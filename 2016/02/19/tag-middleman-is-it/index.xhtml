<?xml version="1.0" encoding="utf-8"?> <?xml-stylesheet href="../../../../stylesheets/visual-91f0f008.css" media="print,screen"?> <?xml-stylesheet href="../../../../stylesheets/print-42792b28.css" media="print"?> <?xml-stylesheet href="../../../../stylesheets/screen-35de9543.css" media="screen"?> <!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-gb-oxendict"> <head> <meta name="viewport" content="width=device-width, initial-scale=1"/> <title>“Tag!”, Middleman is it—Fear Goidte</title> <link rel="canonical" href="https://isfeargoidte.me.uk/2016/02/19/tag-middleman-is-it"/> <link property="rdfa:copy" href="#ccpattern"/> <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/atom.xml"/> <link rel="apple-touch-icon" sizes="57x57" href="../../../../images/icons/favicons/apple-touch-icon-57x57-ef31b61c.png"/> <link rel="apple-touch-icon" sizes="60x60" href="../../../../images/icons/favicons/apple-touch-icon-60x60-c3f3fcb2.png"/> <link rel="apple-touch-icon" sizes="72x72" href="../../../../images/icons/favicons/apple-touch-icon-72x72-2e50e9f5.png"/> <link rel="apple-touch-icon" sizes="76x76" href="../../../../images/icons/favicons/apple-touch-icon-76x76-1d417115.png"/> <link rel="apple-touch-icon" sizes="114x114" href="../../../../images/icons/favicons/apple-touch-icon-114x114-12ec9bba.png"/> <link rel="apple-touch-icon" sizes="120x120" href="../../../../images/icons/favicons/apple-touch-icon-120x120-878f273b.png"/> <link rel="apple-touch-icon" sizes="144x144" href="../../../../images/icons/favicons/apple-touch-icon-144x144-a87ad509.png"/> <link rel="apple-touch-icon" sizes="152x152" href="../../../../images/icons/favicons/apple-touch-icon-152x152-4067cf0e.png"/> <link rel="apple-touch-icon" sizes="180x180" href="../../../../images/icons/favicons/apple-touch-icon-180x180-4a087de1.png"/> <link rel="icon" type="image/png" href="../../../../images/icons/favicons/favicon-32x32-be05bca0.png" sizes="32x32"/> <link rel="icon" type="image/png" href="../../../../images/icons/favicons/favicon-194x194-6771738f.png" sizes="194x194"/> <link rel="icon" type="image/png" href="../../../../images/icons/favicons/favicon-96x96-b8577d8d.png" sizes="96x96"/> <link rel="icon" type="image/png" href="../../../../images/icons/favicons/android-chrome-192x192-fb011f30.png" sizes="192x192"/> <link rel="icon" type="image/png" href="../../../../images/icons/favicons/favicon-16x16-218be3d1.png" sizes="16x16"/> <link rel="manifest" href="/images/icons/favicons/manifest.json"/> <link rel="mask-icon" href="../../../../images/icons/favicons/safari-pinned-tab-2bcc2848.svg" color="#5bbad5"/> <link rel="shortcut icon" href="../../../../images/icons/favicons/favicon-f27fff1c.ico"/> <meta name="msapplication-TileColor" content="#da532c"/> <meta name="msapplication-TileImage" content="../../../../images/icons/favicons/mstile-144x144-73e52e43.png"/> <meta name="msapplication-config" content="/images/icons/favicons/browserconfig.xml"/> <meta name="theme-color" content="#ffffff"/> <meta name="author" content="James Ó Nuanáin"/> <meta name="description" content="Doing more with the middleman-blog extension’s tags. Adding descriptions, names with inline mark-up, and the tag rel attribute. This is assuming that you have setup a blank blog as per If I’d known there’d be so much typing, I would have worn gloves. "/> </head> <body> <a href="#nav_main">Skip to main content</a> <div role="banner"> <dl> <dt xml:lang="ga"><a href="../../../../">Fear Goidte</a></dt> <dd>Pronounced like “Far Gotcha”. The splendid online isolation of me, James Ó Nuanáin, wherein I gather together any loose cleverness that I manage to accumulate. This site is, primarily an exegesis on how it was made. For the moment, it is mostly beak and bone with very little feather and fur. </dd> </dl> <div role="navigation"> <ol> <li><a href="../../../../" accesskey="1">Home</a></li> <li><a href="../../../../archives">Archives</a></li> <li><a href="#nav_copyright" accesskey="6">Copyright</a></li> <li><a href="#nav_accesskeys" accesskey="k">Access keys</a></li> <li><a href="/atom.xml" rel="alternate" accesskey="f">Web feed</a></li> <li><a href="../../../../colophon">Colophon</a></li> </ol> </div> </div> <main id="nav_main" typeof="DCMIType:text schema:Article" resource="https://isfeargoidte.me.uk/2016/02/19/tag-middleman-is-it"> <header> <p class="published-date icon"><time property="dc:created schema:dateCreated schema:datePublished" datetime="2016-02-19">Friday 19<sup>th</sup>&#160;February,&#160;2016</time></p> <h1 property="dc:title schema:Headline">“Tag!”, Middleman is it</h1> <p class="subtitle">Adding descriptions to tags</p> <p class="author icon">James Ó Nuanáin</p> <p class="reading-time icon">Estimated reading time: six minutes</p> <dl> <dt>Tagged with</dt> <dd><a rel="tag" href="/tags/blogging">blogging</a></dd> <dd><a href="/tags/eruby" rel="tag">eRuby</a></dd> <dd><a href="/tags/middleman" rel="tag">Middleman</a></dd> <dd><a rel="tag" href="/tags/rel">rel</a></dd> <dd><a href="/tags/xhtml" rel="tag"><abbr title="eXtensible Hypertext Mark-up Language" class="initialism">X.H.T.M.L.</abbr></a></dd> <dd><a href="/tags/yaml" rel="tag"><abbr title="YAML Ain’t Markup Language">YAML</abbr></a></dd> </dl> <link property="rdfa:copy" href="#ccpattern"/> </header> <nav><h2>Table of contents</h2><ol property="dc:tableofContents"> <li> <a href="#displaying-tags-alphabetically">Displaying tags alphabetically</a> </li> <li> <a href="#descriptions-and-names-with-inline-mark-up">Descriptions and names with inline mark-up</a> <ol> <li> <a href="#yaml-data"><abbr title="YAML Ain’t Markup Language" class="initialism">YAML</abbr> data</a> </li> <li> <a href="#article-headers">Article headers</a> </li> <li> <a href="#article-summaries">Article summaries</a> </li> <li> <a href="#main-archive">Main archive</a> </li> <li> <a href="#tag-archives">Tag archives</a> </li> </ol> </li> <li> <a href="#conclusion">Conclusion</a> </li> </ol> </nav> <p property="dc:description schema:description">Doing more with the <a href="https://middlemanapp.com/basics/blogging/">middleman-blog</a> extension’s tags. Adding descriptions, names with inline mark-up, and the tag <code>rel</code> attribute. This is assuming that you have setup a blank blog as per <dfn><a href="/2016/02/02/would-have-worn-gloves#nav_main">If I’d known there’d be so much typing, I would have worn gloves</a></dfn>. </p> <h2 id="displaying-tags-alphabetically">Displaying tags alphabetically</h2> <p>Especially with a long list of tags, and extra-especially when accessing them through voice or touch; it would be nice to have an idea of where you are in the list. Alphabetically ordering the tags gives someone and idea of where they are and the direction to go in to find a particular tag (up/back forward/behind).</p> <p>The current ruby code displays tags in articles (<code>current_article.tags</code>) in the order in which they are entered in the front matter of that post, and for archives (<code>blog.tags</code>) <em>I think</em> they are displayed in the order in which they first appear in an article:</p> <pre class="code-quote erb"><code><span class="cp">&lt;%</span> <span class="n">blog</span><span class="p">.</span><span class="nf">tags</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">tag</span><span class="p">,</span> <span class="n">articles</span><span class="o">|</span> <span class="cp">%&gt;</span>
</code></pre> <p>To re-order them alphabetically:</p> <pre class="code-quote erb"><code><span class="cp">&lt;%</span> <span class="n">blog</span><span class="p">.</span><span class="nf">tags</span><span class="p">.</span><span class="nf">sort</span><span class="p">{</span> <span class="o">|</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="o">|</span> <span class="n">a</span><span class="p">.</span><span class="nf">to_s</span><span class="p">.</span><span class="nf">downcase</span> <span class="o">&lt;=&gt;</span> <span class="n">b</span><span class="p">.</span><span class="nf">to_s</span><span class="p">.</span><span class="nf">downcase</span> <span class="p">}.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">tag</span><span class="p">,</span> <span class="n">articles</span><span class="o">|</span> <span class="cp">%&gt;</span>
</code></pre> <p>The <code>to_s.downcase</code> changes the tags to lowercase for sorting purposes, otherwise they are ordered by uppercase, and then by lowercase as two separate but adjacent logical lists.</p> <h2 id="descriptions-and-names-with-inline-mark-up">Descriptions and names with inline mark-up</h2> <p>These are instructions to optionally create descriptions for tags as well as names with inline mark-up that can be used for link text and as titles on tag archives.</p> <h3 id="yaml-data"><abbr title="YAML Ain’t Markup Language" class="initialism">YAML</abbr> data</h3> <p>Create a new <code>.yaml</code> file to hold the data: <code>/data/tags.yaml</code>.</p> <p>Add entries to the file in the following format:</p> <pre class="code-quote yaml"><code><span class="s">XHTML</span><span class="pi">:</span>
  <span class="s">name</span><span class="pi">:</span> <span class="s">&lt;abbr title="eXtensible Hypertext Mark-up Language" class="initialism"&gt;X.H.T.M.L.&lt;/abbr&gt;</span>
  <span class="s">description</span><span class="pi">:</span> <span class="pi">&gt;</span>
    <span class="no">Extensible Hypertext Markup Language is part of the family of &lt;abbr title="eXtensible Markup Language" class="initialism"&gt;X.M.L.&lt;/abbr&gt; markup languages. It mirrors or extends versions of Hypertext Markup Language (&lt;dfn class="initialism"&gt;H.T.M.L.&lt;/dfn&gt;).</span>
<span class="s">application/xhtml+xml</span><span class="pi">:</span>
  <span class="s">name</span><span class="pi">:</span> <span class="s">&lt;code&gt;application/xhtml+xml&lt;/code&gt;</span>
  <span class="s">description</span><span class="pi">:</span> <span class="pi">&gt;</span>
    <span class="no">The &lt;dfn&gt;application/xhtml+xml&lt;/dfn&gt; media type (&lt;a href="http://www.rfc-editor.org/rfc/rfc3236.txt"&gt;RFC3236&lt;/a&gt;) is the primary media type for &lt;abbr title="eXtensible Hypertext Mark-up Language" class="initialism"&gt;X.H.T.M.L.&lt;/abbr&gt; Family documents.</span>
</code></pre> <p>Where the first line “<code>XHTML:</code>” matches the tag as referenced in your article’s front matter and “<code>name: &lt;abbr title=&quot;eXtensible Hypertext Mark-up Language&quot; class=&quot;initialism&quot;&gt;X.H.T.M.L.&lt;/abbr&gt;</code>” matches the name of the tag as you would like it displayed within the body of your documents (links and titles).</p> <h3 id="article-headers">Article headers</h3> <p>Code for listing the tags in the article header:</p> <pre class="code-quote erb"><code><span class="cp">&lt;%</span> <span class="k">if</span> <span class="n">current_article</span><span class="p">.</span><span class="nf">tags</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;dl&gt;</span>
    <span class="nt">&lt;dt&gt;</span>Tagged with<span class="nt">&lt;/dt&gt;</span>
    <span class="cp">&lt;%</span> <span class="n">current_article</span><span class="p">.</span><span class="nf">tags</span><span class="p">.</span><span class="nf">sort</span><span class="p">{</span> <span class="o">|</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="o">|</span> <span class="n">a</span><span class="p">.</span><span class="nf">to_s</span><span class="p">.</span><span class="nf">downcase</span> <span class="o">&lt;=&gt;</span> <span class="n">b</span><span class="p">.</span><span class="nf">to_s</span><span class="p">.</span><span class="nf">downcase</span> <span class="p">}.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">tag</span><span class="p">,</span> <span class="n">articles</span><span class="o">|</span> <span class="cp">%&gt;</span>
        <span class="cp">&lt;%</span> <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s1">'tags'</span><span class="p">][</span><span class="n">tag</span><span class="p">.</span><span class="nf">to_sym</span><span class="p">]</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;dd&gt;&lt;a</span> <span class="na">href=</span><span class="s">"</span><span class="cp">&lt;%=</span> <span class="n">url_for</span> <span class="n">tag_path</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span> <span class="cp">%&gt;</span><span class="s">"</span> <span class="na">rel=</span><span class="s">"tag"</span><span class="nt">&gt;</span><span class="cp">&lt;%=</span> <span class="n">data</span><span class="p">[</span><span class="s1">'tags'</span><span class="p">][</span><span class="n">tag</span><span class="p">.</span><span class="nf">to_sym</span><span class="p">][</span><span class="ss">:name</span><span class="p">]</span> <span class="cp">%&gt;</span><span class="nt">&lt;/a&gt;&lt;/dd&gt;</span>
        <span class="cp">&lt;%</span> <span class="k">else</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;dd&gt;</span><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="n">tag</span><span class="p">,</span> <span class="n">tag_path</span><span class="p">(</span><span class="n">tag</span><span class="p">),</span> <span class="ss">rel: </span><span class="s1">'tag'</span> <span class="cp">%&gt;</span><span class="nt">&lt;/dd&gt;</span>
        <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
    <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;/dl&gt;</span>
<span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
</code></pre> <p>For the article headers, the tag links have <code>rel=&quot;tag&quot;</code> attributes. Read more about this attribute at <a href="https://www.w3.org/TR/html5/links.html#link-type-tag">4.8.4.12 Link type “tag”—<cite><abbr title="Hypertext Mark-up Language" class="initialism">H.T.M.L.</abbr>5 A vocabulary and associated <abbr title="application programming interface" class="initialism">A.P.I.</abbr>s for <abbr title="Hypertext Mark-up Language" class="initialism">H.T.M.L.</abbr> and <abbr title="eXtensible Hypertext Mark-up Language" class="initialism">X.H.T.M.L.</abbr></cite></a>.</p> <h3 id="article-summaries">Article summaries</h3> <p>Code for listing the tags in article summaries:</p> <pre class="code-quote erb"><code><span class="cp">&lt;%</span> <span class="k">if</span> <span class="n">article</span><span class="p">.</span><span class="nf">tags</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;footer&gt;</span>
<span class="nt">&lt;dl&gt;</span>
    <span class="nt">&lt;dt&gt;</span>Tagged with<span class="nt">&lt;/dt&gt;</span>
    <span class="cp">&lt;%</span> <span class="n">article</span><span class="p">.</span><span class="nf">tags</span><span class="p">.</span><span class="nf">sort</span><span class="p">{</span> <span class="o">|</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="o">|</span> <span class="n">a</span><span class="p">.</span><span class="nf">to_s</span><span class="p">.</span><span class="nf">downcase</span> <span class="o">&lt;=&gt;</span> <span class="n">b</span><span class="p">.</span><span class="nf">to_s</span><span class="p">.</span><span class="nf">downcase</span> <span class="p">}.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">tag</span><span class="p">,</span> <span class="n">articles</span><span class="o">|</span> <span class="cp">%&gt;</span>
        <span class="cp">&lt;%</span> <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s1">'tags'</span><span class="p">][</span><span class="n">tag</span><span class="p">.</span><span class="nf">to_sym</span><span class="p">]</span> <span class="cp">%&gt;</span>
            <span class="cp">&lt;%</span> <span class="k">if</span> <span class="n">current_page</span><span class="p">.</span><span class="nf">url</span> <span class="o">==</span> <span class="n">tag_path</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;dd&gt;</span><span class="cp">&lt;%=</span> <span class="n">data</span><span class="p">[</span><span class="s1">'tags'</span><span class="p">][</span><span class="n">tag</span><span class="p">.</span><span class="nf">to_sym</span><span class="p">][</span><span class="ss">:name</span><span class="p">]</span> <span class="cp">%&gt;</span><span class="nt">&lt;/dd&gt;</span>
           <span class="cp">&lt;%</span> <span class="k">else</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;dd&gt;&lt;a</span> <span class="na">href=</span><span class="s">"</span><span class="cp">&lt;%=</span> <span class="n">url_for</span> <span class="n">tag_path</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span> <span class="cp">%&gt;</span><span class="s">"</span><span class="nt">&gt;</span><span class="cp">&lt;%=</span> <span class="n">data</span><span class="p">[</span><span class="s1">'tags'</span><span class="p">][</span><span class="n">tag</span><span class="p">.</span><span class="nf">to_sym</span><span class="p">][</span><span class="ss">:name</span><span class="p">]</span> <span class="cp">%&gt;</span><span class="nt">&lt;/a&gt;&lt;/dd&gt;</span>
            <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
        <span class="cp">&lt;%</span> <span class="k">else</span> <span class="cp">%&gt;</span>
            <span class="cp">&lt;%</span> <span class="k">if</span> <span class="n">current_page</span><span class="p">.</span><span class="nf">url</span> <span class="o">==</span> <span class="n">tag_path</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;dd&gt;</span><span class="cp">&lt;%=</span> <span class="n">tag</span> <span class="cp">%&gt;</span><span class="nt">&lt;/dd&gt;</span>
           <span class="cp">&lt;%</span> <span class="k">else</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;dd&gt;</span><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="n">tag</span><span class="p">,</span> <span class="n">tag_path</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span> <span class="cp">%&gt;</span><span class="nt">&lt;/dd&gt;</span>
            <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
        <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
<span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;/dl&gt;</span>
<span class="nt">&lt;/footer&gt;</span>
<span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
</code></pre> <h3 id="main-archive">Main archive</h3> <p>Code for listing links to the tag archives on a main archive page:</p> <pre class="code-quote erb"><code><span class="nt">&lt;ol&gt;</span>
<span class="cp">&lt;%</span> <span class="n">blog</span><span class="p">.</span><span class="nf">tags</span><span class="p">.</span><span class="nf">sort</span><span class="p">{</span> <span class="o">|</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="o">|</span> <span class="n">a</span><span class="p">.</span><span class="nf">to_s</span><span class="p">.</span><span class="nf">downcase</span>   <span class="o">&lt;=&gt;</span> <span class="n">b</span><span class="p">.</span><span class="nf">to_s</span><span class="p">.</span><span class="nf">downcase</span>   <span class="p">}.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">tag</span><span class="p">,</span> <span class="n">articles</span><span class="o">|</span> <span class="cp">%&gt;</span>
    <span class="cp">&lt;%</span> <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s1">'tags'</span><span class="p">][</span><span class="n">tag</span><span class="p">.</span><span class="nf">to_sym</span><span class="p">]</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"</span><span class="cp">&lt;%=</span> <span class="n">url_for</span> <span class="n">tag_path</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span> <span class="cp">%&gt;</span><span class="s">"</span><span class="nt">&gt;</span><span class="cp">&lt;%=</span> <span class="n">data</span><span class="p">[</span><span class="s1">'tags'</span><span class="p">][</span><span class="n">tag</span><span class="p">.</span><span class="nf">to_sym</span><span class="p">][</span><span class="ss">:name</span><span class="p">]</span> <span class="cp">%&gt;</span><span class="nt">&lt;/a&gt;</span> (<span class="cp">&lt;%=</span> <span class="n">spell_out</span><span class="p">(</span><span class="n">articles</span><span class="p">.</span><span class="nf">size</span><span class="p">)</span> <span class="cp">%&gt;</span>)—<span class="cp">&lt;%=</span> <span class="n">data</span><span class="p">[</span><span class="s1">'tags'</span><span class="p">][</span><span class="n">tag</span><span class="p">.</span><span class="nf">to_sym</span><span class="p">][</span><span class="ss">:description</span><span class="p">]</span> <span class="cp">%&gt;</span><span class="nt">&lt;/li&gt;</span>
    <span class="cp">&lt;%</span> <span class="k">else</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;li&gt;</span><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s2">"</span><span class="si">#{</span><span class="n">tag</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span> <span class="n">tag_path</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span> <span class="cp">%&gt;</span> (<span class="cp">&lt;%=</span> <span class="n">spell_out</span><span class="p">(</span><span class="n">articles</span><span class="p">.</span><span class="nf">size</span><span class="p">)</span> <span class="cp">%&gt;</span>)<span class="nt">&lt;/li&gt;</span>
    <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
<span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;/ol&gt;</span>
</code></pre> <p>The above depends on having a <code>\helpers\spell_out.rb</code> file containing:</p> <pre class="code-quote erb"><code>def spell_out(value)
  value = value.to_i
  if value &gt;= 0 <span class="err">&amp;&amp;</span> value <span class="nt">&lt; 11</span>
    <span class="na">return</span> <span class="err">%</span><span class="na">w</span><span class="err">(</span><span class="na">zero</span> <span class="na">one</span> <span class="na">two</span> <span class="na">three</span> <span class="na">four</span> <span class="na">five</span> <span class="na">six</span> <span class="na">seven</span> <span class="na">eight</span> <span class="na">nine</span> <span class="na">ten</span><span class="err">)[</span><span class="na">value</span><span class="err">]</span>
  <span class="na">else</span>
    <span class="na">return</span> <span class="na">value</span>
  <span class="na">end</span>
<span class="na">end</span>

</code></pre> <h3 id="tag-archives">Tag archives</h3> <p>This code is for the generated individual tag archives (<code>source\tag.xhtml.erb</code>):</p> <pre class="code-quote erb"><code><span class="cp">&lt;%</span> <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s1">'tags'</span><span class="p">][</span><span class="n">tagname</span><span class="p">.</span><span class="nf">to_sym</span><span class="p">]</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;h1</span> <span class="na">property=</span><span class="s">"dc:title"</span><span class="nt">&gt;</span>Articles tagged <span class="nt">&lt;em&gt;</span><span class="cp">&lt;%=</span> <span class="n">data</span><span class="p">[</span><span class="s1">'tags'</span><span class="p">][</span><span class="n">tagname</span><span class="p">.</span><span class="nf">to_sym</span><span class="p">][</span><span class="ss">:name</span><span class="p">]</span> <span class="cp">%&gt;</span><span class="nt">&lt;/em&gt;&lt;/h1&gt;</span>
<span class="nt">&lt;p&gt;</span>
<span class="cp">&lt;%=</span> <span class="n">data</span><span class="p">[</span><span class="s1">'tags'</span><span class="p">][</span><span class="n">tagname</span><span class="p">.</span><span class="nf">to_sym</span><span class="p">][</span><span class="ss">:description</span><span class="p">]</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;/p&gt;</span>
<span class="cp">&lt;%</span> <span class="k">else</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;h1</span> <span class="na">property=</span><span class="s">"dc:title"</span><span class="nt">&gt;</span>Articles tagged <span class="nt">&lt;em&gt;</span><span class="cp">&lt;%=</span> <span class="n">tagname</span> <span class="cp">%&gt;</span><span class="nt">&lt;/em&gt;&lt;/h1&gt;</span>
<span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
</code></pre> <h2 id="conclusion">Conclusion</h2> <p>A little short on exposition but contains all the necessary code.</p> <footer> <p>This document was last modified on <time property="dc:modified schema:dateModified" datetime="2016-04-12T11:46:06+01:00">Tuesday 12<sup>th</sup>&#160;April,&#160;2016 at 11:46 (London)</time>.</p> <p id="nav_copyright" resource="#ccpattern" typeof="rdfa:Pattern">Copyright © <time property="schema:copyrightYear">1994</time>–<time>2016</time> <span property="cc:attributionName dc:creator schema:creator schema:publisher" resource="#me"><a href="https://isfeargoidte.me.uk" property="cc:attributionURL" rel="author">James Ó Nuanáin</a></span>. Except where otherwise indicated, this document (and all of its contents) is licensed under a <a accesskey="5" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" property="cc:license dc:license schema:license" rel="license">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International Licence</a>.</p> <address resource="#me" typeof="foaf:Person schema:Person"> <span property="foaf:name schema:Name">James Ó Nuanáin</span> has this website (<a property="foaf:weblog schema:url" href="https://isfeargoidte.me.uk/"><span xml:lang="ga">Fear Goidte</span></a>). His inane witterings are also available on <span property="foaf:holdsAccount" typeof="foaf:OnlineAccount"> <a href="https://twitter.com/" property="foaf:accountServiceHomepage">Twitter</a> where his user name is ‘<span property="foaf:accountName"><a href="https://twitter.com/feargoidte">@feargoidte</a></span>’. </span> His feeble attempts at coding are available on <span property="foaf:holdsAccount" typeof="foaf:OnlineAccount"> <a property="foaf:accountServiceHomepage" href="https://github.com/">Github</a> where his user name is similarly ‘<span property="foaf:accountName"><a href="https://github.com/FearGoidte">FearGoidte</a></span>’. </span> </address> <table id="nav_accesskeys"> <caption>This page makes use of the following <code>accesskey</code> shortcuts:</caption> <thead> <tr> <th>Location</th> <th>Access Key</th> </tr> </thead> <tbody> <tr> <th>Home</th> <td><kbd>1</kbd></td> </tr> <tr> <th>Licence</th> <td><kbd>5</kbd></td> </tr> <tr> <th>Copyright</th> <td><kbd>6</kbd></td> </tr> <tr> <th>Access Keys</th> <td><kbd>k</kbd></td> </tr> <tr> <th>Previous article</th> <td><kbd>p</kbd></td> </tr> <tr> <th>Next article</th> <td><kbd>n</kbd></td> </tr> </tbody> </table> <p id="nav_validation">This page is authored in, <em>hopefully</em>, <a accesskey="v" href="https://validator.nu/?doc=https%3A%2F%2Fisfeargoidte.me.uk%2F2016%2F02%2F19%2Ftag-middleman-is-it&amp;showsource=yes&amp;showoutline=yes" rel="nofollow">well-formed <abbr title="eXtensible Hypertext Mark-up Langauge" class="initialism">X.H.T.M.L.</abbr></a> (the validator link is so that I can occasionally check on the mark-up).</p> </footer> </main> <ol class="post-navigation" role="navigation"> <li class="icon prev">Previous: <a href="/2016/02/19/weigh-anchor" rel="prev" accesskey="p" title="Previous article: Weigh anchor">Weigh anchor</a></li> <li><a href="../../../../archives">All articles</a></li> <li class="icon next">Next: <a href="/2016/03/22/404-error-github-pages-middleman" rel="next" accesskey="n" title="Next article: 404 ‘file not found’ error page for GitHub pages and Middleman">404 ‘file not found’ error page for GitHub pages and Middleman</a></li> </ol> </body> </html>