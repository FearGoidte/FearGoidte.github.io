<?xml version="1.0" encoding="utf-8"?> <?xml-stylesheet href="../../../../stylesheets/visual-7e97a92b.css" media="print,screen"?> <?xml-stylesheet href="../../../../stylesheets/print-42792b28.css" media="print"?> <?xml-stylesheet href="../../../../stylesheets/screen-09b3800d.css" media="screen"?> <!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-gb-oxendict" prefix="article: http://ogp.me/ns/article#"> <head> <meta name="viewport" content="width=device-width, initial-scale=1"/> <title>404 ‘file not found’ error page for GitHub pages and Middleman—Fear Goidte</title> <link rel="canonical" href="https://isfeargoidte.me.uk/2016/03/22/404-error-github-pages-middleman/"/> <meta property="og:url" content="https://isfeargoidte.me.uk/2016/03/22/404-error-github-pages-middleman/"/> <meta property="og:locale" content="en_GB"/> <meta property="fb:app_id" content="313874632277589"/> <meta name="twitter:site" content="@feargoidte"/> <meta property="og:site_name" content="Fear Goidte"/> <meta property="og:title" content="404 ‘file not found’ error page for GitHub pages and Middleman"/> <meta property="og:description" content="How to setup a custom 404 page for a site generated by Middleman and hosted on GitHub pages. "/> <meta property="og:image" content="https://isfeargoidte.me.uk/images/2016-03-22-404-error-github-pages-middleman-c7c49745.png"/> <meta property="og:image:secure_url" content="https://isfeargoidte.me.uk/images/2016-03-22-404-error-github-pages-middleman-c7c49745.png"/> <meta property="og:image:width" content="640"/> <meta property="og:image:height" content="425"/> <meta name="twitter:card" content="summary_large_image"/> <meta property="og:type" content="article"/> <meta property="article:tag" content="Middleman, GitHub Pages, XHTML, application/xhtml+xml, 404 error, file not found"/> <meta property="article:published_time" content="2016-03-22"/> <meta property="article:modified_time" content="2016-06-30T12:36:41+01:00"/> <script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "Article",
	"headline": "404 ‘file not found’ error page for GitHub pages and Middleman",
	"description": "How to setup a custom 404 page for a site generated by Middleman and hosted on GitHub pages.
",
	"keywords": "Middleman, GitHub Pages, XHTML, application/xhtml+xml, 404 error, file not found",
	"wordCount": "493",
	"url": "https://isfeargoidte.me.uk/2016/03/22/404-error-github-pages-middleman/",
	"datePublished": "2016-03-22",
	"dateCreated": "2016-03-22",
	"dateModified": "2016-06-30T12:36:41+01:00",
	"license": "https://creativecommons.org/licenses/by-nc-sa/4.0/",
	"copyrightHolder": "James Ó Nuanáin",
	"copyrightYear": "2016",
	"image": {
		"@context": "http://schema.org",
		"@type": "ImageObject",
		"height": "425",
		"width": "640",
		"url": "https://isfeargoidte.me.uk/images/2016-03-22-404-error-github-pages-middleman-c7c49745.png"

	},
	"author": "James Ó Nuanáin",
	"publisher": {
		"type": "Organization",
		"name": "Fear Goidte",
		"logo":  {
			"@context": "http://schema.org",
			"@type": "ImageObject",
			"url": "https://isfeargoidte.me.uk/images/logo-c94ecbba.png"
  		}
	},
	"mainEntityOfPage": {
		"type": "WebPage",
		"id": "https://isfeargoidte.me.uk/2016/03/22/404-error-github-pages-middleman/"
	}
 }
</script> <link property="rdfa:copy" href="#ccpattern"/> <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/atom.xml"/> <link rel="apple-touch-icon" sizes="180x180" href="../../../../images/icons/favicons/apple-touch-icon-04221b14.png"/> <link rel="icon" type="image/png" href="../../../../images/icons/favicons/favicon-32x32-ef61e6d9.png" sizes="32x32"/> <link rel="icon" type="image/png" href="../../../../images/icons/favicons/favicon-16x16-e572fd6e.png" sizes="16x16"/> <link rel="manifest" href="/images/icons/favicons/manifest.json"/> <link rel="mask-icon" href="../../../../images/icons/favicons/safari-pinned-tab-b11b96f2.svg"/> <link rel="shortcut icon" href="../../../../images/icons/favicons/favicon-49a3a455.ico"/> <meta name="msapplication-config" content="/images/icons/favicons/browserconfig.xml"/> </head> <body> <a href="#nav_main">Skip to main content</a> <div role="banner"> <dl> <dt xml:lang="ga-ie"><a href="../../../../">Fear Goidte</a></dt> <dd>Pronounced like “Far Gotcha”. The splendid online isolation of me, James Ó Nuanáin, wherein I gather together any loose cleverness that I manage to accumulate. This site is, primarily an exegesis on how it was made. For the moment, it is mostly beak and bone with very little feather and fur. </dd> </dl> <div role="navigation"> <ol> <li><a href="../../../../" accesskey="1">Home</a></li> <li><a href="../../../../archives/">Archives</a></li> <li><a href="#nav_copyright" accesskey="6">Copyright</a></li> <li><a href="#nav_accesskeys" accesskey="k">Access keys</a></li> <li><a href="../../../../atom.xml" accesskey="f" rel="alternate">Web feed</a></li> <li><a href="../../../../colophon/">Colophon</a></li> </ol> </div> </div> <main id="nav_main" typeof="DCMIType:text" resource="https://isfeargoidte.me.uk/2016/03/22/404-error-github-pages-middleman/"> <header> <p class="published-date icon"><time property="dcterms:created" datetime="2016-03-22">Tuesday, 22<sup>nd</sup> March 2016</time></p> <h1 property="dcterms:title">404 ‘file not found’ error page for GitHub pages and Middleman</h1> <p class="author icon">James Ó Nuanáin</p> <p class="reading-time icon">Estimated reading time: two minutes</p> <dl> <dt>Tagged with</dt> <dd><a href="/tags/404-error/" rel="tag">404 error</a></dd> <dd><a href="/tags/application-xhtml-xml/" rel="tag"><code>application/xhtml+xml</code></a></dd> <dd><a href="/tags/file-not-found/" rel="tag">file not found</a></dd> <dd><a href="/tags/github-pages/" rel="tag">GitHub Pages</a></dd> <dd><a href="/tags/middleman/" rel="tag">Middleman</a></dd> <dd><a href="/tags/xhtml/" rel="tag"><abbr title="eXtensible Hypertext Mark-up Language" class="initialism">X.H.T.M.L.</abbr></a></dd> </dl> <link property="rdfa:copy" href="#ccpattern"/> </header> <nav><h2>Table of contents</h2><ol property="dcterms:tableofContents"> <li> <a href="#directory-indices">Directory indices</a> </li> <li> <a href="#application-xhtml-xml"><code>application/xhtml+xml</code></a> </li> <li> <a href="#relative-links">Relative links</a> </li> <li> <a href="#wrap-up">Wrap-up</a> </li> </ol> </nav> <object data="../../../../images/2016-03-22-404-error-github-pages-middleman-b04b528a.svg"></object> <p property="dcterms:description">How to setup a custom <a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.5">404 page</a> for a site generated by <a href="https://middlemanapp.com">Middleman</a> and hosted on <a href="https://pages.github.com">GitHub pages</a>. </p> <p>The 404 ‘file not found’ error is generated when a user-agent attempts to access a document that does not exist. It is helpful to redirect these errors to a document that can explain to someone that there is no document at the address they were accessing. It’s an added bonus if you can provide them with a way to find the document for which they were looking.</p> <p>GitHub pages doesn’t support server redirects. <a href="https://help.github.com/articles/creating-a-custom-404-page-for-your-github-pages-site/">GitHub does support a custom ’file not found‘ error page but it <em>must</em> be named <code>404.html</code> <em>or</em> <code>404.md</code></a>.</p> <h2 id="directory-indices">Directory indices</h2> <p>Since the file must be named <code>404.html</code> or <code>404.md</code>; if you’re using directory indices, they need to be turned off for the <code>404.html</code> file (<code>https://example.com/404/</code> and <code>https://example.com/404</code> will just redirect users to GutHub’s own 404 page. So assuming that you’re using <code>404.html</code>, add the following to your <code>config.rb</code> file:</p> <pre class="code-quote ruby"><code><span class="n">page</span> <span class="s1">'/404.html'</span><span class="p">,</span> <span class="ss">directory_index: </span><span class="kp">false</span>
</code></pre> <p>If you’re using the <a href="https://github.com/middleman/middleman-blog"><cite>middleman-blog</cite></a> extension, the directory indices settings—including the above—need to follow (rather than precede) the blog settings for them to work with pages generated by the blogging extension.</p> <h2 id="application-xhtml-xml"><code>application/xhtml+xml</code></h2> <p>Due to my utopian, and contrarian, nature I am still banging a tiny drum for <abbr title="eXtensible Hypertext Mark-up Language" class="initialism">X.H.T.M.L.</abbr> served with the proper mime-type.</p> <p>GitHub does not support using a file called <code>404.xhtml</code> (though they are looking at it) and bases its mime-types on the extension of files so the error page needs to be a document with the extension <code>.html</code> document. For this I use a separate <code>404_layout.rb</code> file with the mark-up tweaked for style-sheets via a link element and declaring the encoding using a meta tag.</p> <h2 id="relative-links">Relative links</h2> <p>Because <cite>GitHub pages</cite> is not using a server redirect for your custom page, you can’t use relative links as they will only work when you access the page directly: <code>example.com/404.html</code>.</p> <p>Instead, the template and the layout file must use absolute links to assets (images, style-sheets <abbr lang="la" title="et cetera">&amp;c.</abbr>) as well as to other pages on your site.</p> <h2 id="wrap-up">Wrap-up</h2> <p>I haven’t bothered with the content of the 404 document itself, since that is dependent on the existing navigational elements of your site.</p> <p>I think you should include both a reference to “file not found” and “404” in the title, since those terms should be familiar to many users.</p> <p>An ability to search the site and possibly a replication of any archive page are also good ideas for content.</p> <p>Avoid being too adamant that it’s the user’s fault or being too passive aggressive—surprisingly, those are quite common for the content of 404 pages.</p> <p>My own is inexcusably terse: <a href="https://isfeargoidte.me.uk/404.html">Fear Goidte’s 404</a> but I have an archive link on my site-wide navigation menu and not enough content to warrant an ability to search the site from within the site.</p> <footer> <p>This document was last modified on <time property="dcterms:modified" datetime="2016-06-30T12:36:41+01:00">Thursday, 30<sup>th</sup> June 2016 at 12:36 (London)</time>.</p> <p id="nav_copyright" resource="#ccpattern" typeof="rdfa:Pattern">Copyright © <time property="dcterms:dateCopyrighted">1994</time>–<time>2016</time> <span property="cc:attributionName dcterms:creator" resource="#me"><a href="https://isfeargoidte.me.uk" property="cc:attributionURL" rel="author">James Ó Nuanáin</a></span>. Except where otherwise indicated, this document (and all of its contents) is licensed under a <a accesskey="5" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" property="cc:license dcterms:license" rel="license">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International Licence</a>.</p> <address resource="#me" typeof="foaf:Person"> <span property="foaf:name">James Ó Nuanáin</span> has this website (<a property="foaf:weblog" href="https://isfeargoidte.me.uk/"><span xml:lang="ga-ie">Fear Goidte</span></a>). His inane witterings are also available on <span property="foaf:holdsAccount" typeof="foaf:OnlineAccount"> <a href="https://twitter.com/" property="foaf:accountServiceHomepage">Twitter</a> where his user name is ‘<span property="foaf:accountName"><a href="https://twitter.com/feargoidte">@feargoidte</a></span>’. </span> His feeble attempts at coding are available on <span property="foaf:holdsAccount" typeof="foaf:OnlineAccount"> <a property="foaf:accountServiceHomepage" href="https://github.com/">Github</a> where his user name is similarly ‘<span property="foaf:accountName"><a href="https://github.com/FearGoidte">FearGoidte</a></span>’. </span> </address> <table id="nav_accesskeys"> <caption>This page makes use of the following <code>accesskey</code> shortcuts:</caption> <thead> <tr> <th>Location</th> <th>Access Key</th> </tr> </thead> <tbody> <tr> <th>Home</th> <td><kbd>1</kbd></td> </tr> <tr> <th>Licence</th> <td><kbd>5</kbd></td> </tr> <tr> <th>Copyright</th> <td><kbd>6</kbd></td> </tr> <tr> <th>Validation</th> <td><kbd>v</kbd></td> </tr> <tr> <th>Access Keys</th> <td><kbd>k</kbd></td> </tr> <tr> <th>Previous article</th> <td><kbd>p</kbd></td> </tr> <tr> <th>Next article</th> <td><kbd>n</kbd></td> </tr> </tbody> </table> <p id="nav_validation">This page is authored in, <em>hopefully</em>, <a accesskey="v" href="https://validator.nu/?doc=https%3A%2F%2Fisfeargoidte.me.uk%2F2016%2F03%2F22%2F404-error-github-pages-middleman%2F&amp;showsource=yes&amp;showoutline=yes" rel="nofollow">well-formed <abbr title="eXtensible Hypertext Mark-up Langauge" class="initialism">X.H.T.M.L.</abbr></a> (the validator link is so that I can occasionally check on the mark-up).</p> </footer> </main> <div role="navigation" class="post-navigation"> <ol> <li class="icon prev">Previous: <a href="/2016/02/19/tag-middleman-is-it/" title="Previous article: “Tag!”, Middleman is it" rel="prev" accesskey="p">“Tag!”, Middleman is it</a></li> <li><a href="../../../../archives/">All articles</a></li> <li class="icon next">Next: <a href="/2016/03/25/reading-whilst-watching-and-listening/" title="Next article: Reading whilst watching (and listening)" rel="next" accesskey="n">Reading whilst watching (and listening)</a></li> </ol> </div> </body> </html>