<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Fear Goidte</title>
  <subtitle>Pronounced like “Far Gotcha”. The splendid online isolation of me, James Ó Nuanáin, wherein I gather together any loose cleverness that I manage to accumulate. This site is, primarily an exegesis on how it was made. For the moment, it is mostly beak and bone with very little feather and fur.
</subtitle>
  <id>https://isfeargoidte.me.uk/</id>
  <link href="https://isfeargoidte.me.uk/"/>
  <link href="https://isfeargoidte.me.uk/atom.xml" rel="self"/>
  <updated>2016-04-02T22:25:00+01:00</updated>
  <author>
    <name>James Ó Nuanáin</name>
  </author>
  <entry>
    <title type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">
Enumerate the ways      </div>
    </title>
    <link rel="alternate" href="https://isfeargoidte.me.uk/2016/04/02/enumerate-the-ways"/>
    <id>https://isfeargoidte.me.uk/2016/04/02/enumerate-the-ways</id>
    <published>2016-04-02T22:25:00+01:00</published>
    <updated>2016-05-23T12:49:32+01:00</updated>
    <author>
      <name>James Ó Nuanáin</name>
    </author>
    <summary type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">
The visual formatting of the <a href="https://www.w3.org/TR/html5/grouping-content.html#the-ol-element"><code>ol</code></a> and <a href="https://www.w3.org/TR/html5/grouping-content.html#the-ul-element"><code>ul</code></a> list elements and in particular; using generated content for the markers, setting them outside the list text, and having them ‘hang’ in the margin of the parent element.
      </div>
    </summary>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">
The visual formatting of the <a href="https://www.w3.org/TR/html5/grouping-content.html#the-ol-element"><code>ol</code></a> and <a href="https://www.w3.org/TR/html5/grouping-content.html#the-ul-element"><code>ul</code></a> list elements and in particular; using generated content for the markers, setting them outside the list text, and having them ‘hang’ in the margin of the parent element.
<h2 id="background">Background</h2>

<p>The styles I use are designed to produce certain outcomes and have specific limitations which might conflict with your own needs. The full stylings used here as well as list examples is available on the Codepen (<a href="http://codepen.io/FearGoidte/pen/xVXJyg"><cite>Nested ordered and unordered lists with hanging markers</cite></a>).</p>

<h3 id="adaptability-of-styles">Adaptability of styles</h3>

<p>A list is <dfn>nested</dfn> when it is the direct descendent of another list as in the following stylesheet selector examples:</p>

<ul>
<li><code>ol &gt; li &gt; ol</code> and</li>
<li><code>ul &gt; li &gt; ol</code>.</li>
</ul>

<p>The number of direct-ancestor list elements a list has determines its nesting <dfn>level</dfn>.</p>

<h4 id="ordered-lists">Ordered lists</h4>

<p>Ordered lists are numbered 1., 1.1, 1.1.1 <abbr lang="la" title="et cetera">&amp;c.</abbr></p>

<p>These styles should able to nest ordered lists to an infinite level or at least beyond the point where the width of the numbering exceeds available screen width.</p>

<h5 id="reversed-quot-reversed-quot"><code>reversed=&quot;reversed&quot;</code></h5>

<p>Regrettably, at the moment, the only way I know of visually expressing the meaning of the <a href="https://www.w3.org/TR/html5/grouping-content.html#attr-ol-reversed"><code>reversed=&quot;reversed&quot;</code></a> attribute for ordered lists depends on knowing the total number of list items and using a style to ‘count down’ from that number. I have omitted that styling since it is <em>not</em> adaptive and therefore of limited use.</p>

<h4 id="unordered-lists">Unordered lists</h4>

<p>Unordered lists are formatted to have different markers for each nesting depth up to a depth of five lists. This being (excluding the first level) the most that can be expressed using the mark-up <a href="https://www.w3.org/TR/html5/sections.html#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements"><code>h1</code> to <code>h6</code> heading elements</a>.</p>

<h3 id="hanging-and-outside-markers">Hanging and outside markers</h3>

<p>I find it easier on the eye, and easier to comprehend, when markers are outside of the list-item text and the markers for the top level of the list are hanging in the left-hand margin (unless the text direction is right-to-left) of its parent element.</p>

<h2 id="the-styles">The styles</h2>

<h3 id="margins-between-lists">Margins between lists</h3>

<p>I use a standard margin of one line between many elements including <code>ol</code> and <code>ul</code>. In the case of <code>line-height : 1.5</code> on the <code>body</code> or the <code>html</code> element this would equate to a standard vertical margin of <code>1.5rem</code>. However, for nested lists I want them to abut each other vertically:</p>
<pre class="code-quote css"><code><span class="nt">ol</span><span class="o">,</span>
<span class="nt">ul</span> <span class="p">{</span>
    <span class="nl">margin</span> <span class="p">:</span> <span class="m">1.4em</span> <span class="m">0</span><span class="p">;</span>
    <span class="nl">padding</span> <span class="p">:</span> <span class="m">0</span>
<span class="p">}</span>

<span class="nt">ol</span> <span class="o">&gt;</span> <span class="nt">li</span> <span class="o">&gt;</span> <span class="nt">ol</span><span class="o">,</span>
<span class="nt">ol</span> <span class="o">&gt;</span> <span class="nt">li</span> <span class="o">&gt;</span> <span class="nt">ul</span><span class="o">,</span>
<span class="nt">ul</span> <span class="o">&gt;</span> <span class="nt">li</span> <span class="o">&gt;</span> <span class="nt">ol</span><span class="o">,</span>
<span class="nt">ul</span> <span class="o">&gt;</span> <span class="nt">li</span> <span class="o">&gt;</span> <span class="nt">ul</span> <span class="p">{</span>
    <span class="nl">margin</span> <span class="p">:</span> <span class="m">0</span>
<span class="p">}</span>
</code></pre>

<h3 id="outside-markers">Outside markers</h3>

<p>By changing the display of <code>li</code> to table you enable the <code>li::before</code> pseudo element to have the <code>table-cell</code> display property and hang outside the list item text. On paged media it will also prevent list items from breaking across pages. <code>list-style : none</code> disables the usual user-agent display styles.</p>
<pre class="code-quote css"><code><span class="nt">li</span> <span class="p">{</span>
    <span class="nl">display</span> <span class="p">:</span> <span class="n">table</span><span class="p">;</span>
    <span class="nl">list-style</span> <span class="p">:</span> <span class="nb">none</span>
<span class="p">}</span>

<span class="nt">li</span><span class="nd">::before</span> <span class="p">{</span>
    <span class="nl">display</span> <span class="p">:</span> <span class="nb">table-cell</span>
<span class="p">}</span>
</code></pre>

<h3 id="hanging-markers-on-top-level-lists">Hanging markers on top-level lists</h3>

<p>The padding on the <code>body</code> element creates the space for the list markers of top-level lists to hang-in. I use <code>padding</code> rather than <code>margin</code> so that if a background colour is set on <code>body</code> the list marker is within the boundaries of the coloured background. The padding is set to an amount that can just about accommodate an ordered list marker up till “999” as well as a small remainder to leave space between the marker and the list text. The greater the padding the less horizontal space is available which is of particular concern for narrow screens.</p>

<p>If the parent element of the <code>ol</code> or <code>ul</code> is floated, it will have to have the same padding as <code>body</code> to create the same space for .</p>

<p>For the top level lists, their markers need to be ‘pulled’ left into the margin of their parent element. The <code>position : relative</code> of the <code>li</code> element allows the <code>li::before</code> pseudo element to be absolutely positioned. I pull the list marker left by the same length quantity as the padding above.</p>

<p>The markers pseudo element’s default width is only sufficient to contain the marker. I prefer the top level of ordered lists to be aligned right so I need to specify a width for the marker, as I am using <code>.2em</code> padding between the list markers and the list text so for the top-level list’s markers I specify a width equal to the above <code>body</code> padding, the left positioning and minus .<code>2em</code> to make the marker padding consistent for all levels:</p>
<pre class="code-quote css"><code><span class="nt">body</span> <span class="p">{</span>
    <span class="nl">padding</span> <span class="p">:</span> <span class="m">0</span> <span class="m">1.9em</span>
<span class="p">}</span>

<span class="nt">li</span> <span class="p">{</span>
    <span class="nl">position</span> <span class="p">:</span> <span class="nb">relative</span>
<span class="p">}</span>

<span class="nt">li</span><span class="nd">::before</span> <span class="p">{</span>
    <span class="nl">left</span> <span class="p">:</span> <span class="m">-1.9em</span><span class="p">;</span>
    <span class="nl">width</span> <span class="p">:</span> <span class="m">1.7em</span><span class="p">;</span>
    <span class="nl">position</span> <span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span>
    <span class="nl">text-align</span> <span class="p">:</span> <span class="nb">right</span>
<span class="p">}</span>
</code></pre>

<h3 id="undoing-the-positioning-top-level-positioning-for-nested-list-markers">Undoing the positioning top level positioning for nested list markers</h3>

<p>The below selectors again use <code>&gt;</code> to ensure that they are targeting only list items that are directly descended from other list items.</p>

<p>The only positive styling is the <code>padding-right : .2em</code> which is equivalent to the difference between the left positioning and width values for top level list items above.</p>

<p>The other stylings merely reset the value since the left positioning and right are align are only used for top level lists.</p>
<pre class="code-quote css"><code><span class="nt">li</span> <span class="o">&gt;</span> <span class="nt">ol</span> <span class="o">&gt;</span> <span class="nt">li</span><span class="nd">::before</span><span class="o">,</span>
<span class="nt">li</span> <span class="o">&gt;</span> <span class="nt">ul</span> <span class="o">&gt;</span> <span class="nt">li</span><span class="nd">::before</span> <span class="p">{</span>
    <span class="nl">padding-right</span> <span class="p">:</span> <span class="m">.2em</span><span class="p">;</span>
    <span class="nl">position</span> <span class="p">:</span> <span class="nb">static</span><span class="p">;</span>
    <span class="nl">text-align</span> <span class="p">:</span> <span class="n">initial</span><span class="p">;</span>
    <span class="nl">width</span> <span class="p">:</span> <span class="nb">auto</span>
<span class="p">}</span>
</code></pre>

<h3 id="setting-counters">Setting counters</h3>

<p>In their <a href="https://www.w3.org/TR/CSS21/"><cite>Cascading Style Sheets Level 2 Revision 1 (<abbr title="Cascading Style Sheets" class="initialism">C.S.S.</abbr> 2.1) Specification</cite></a> the <a href="https://www.w3.org/TR/CSS21/generate.html#scope"><abbr title="World Wide Web Consortium" class="initialism">W.3.C.</abbr> recommended resetting counters on the <code>ol</code> element</a>. Unfortunately, they seem to have been as perplexed by their counter rules as everyone else. Reseting counters on the <code>ol</code> element means that <em>an ordered list which is the descendent of a sibling element of a previous ordered list will behave as a continuation of the previous list</em>. Quite a mouthful; suffice to say, reset counters on the <code>first-child</code> of an ordered list.</p>

<p>It is necessary to specify “counter” for top level ordered lists and then “counters” for nested ordered lists to be able to display a properly numbered ordered list within an unordered list.</p>

<p>Since I am using full stops to punctuate the numbers in nested ordered list markers they can become quite wide and have too much space for my taste (as with initialisms). I constrict them with a small amount of negative <code>letter-spacing</code>.</p>
<pre class="code-quote css"><code><span class="nt">ol</span> <span class="o">&gt;</span> <span class="nt">li</span><span class="nd">:first-child</span> <span class="p">{</span>
    <span class="nl">counter-reset</span> <span class="p">:</span> <span class="n">item</span>
<span class="p">}</span>

<span class="nt">ol</span> <span class="o">&gt;</span> <span class="nt">li</span><span class="nd">::before</span> <span class="p">{</span>
    <span class="nl">content</span> <span class="p">:</span> <span class="n">counter</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="s1">". "</span><span class="p">;</span>
    <span class="nl">counter-increment</span> <span class="p">:</span> <span class="n">item</span><span class="p">;</span>
    <span class="nl">letter-spacing</span> <span class="p">:</span> <span class="m">-.025em</span>
<span class="p">}</span>

<span class="nt">ol</span> <span class="o">&gt;</span> <span class="nt">li</span> <span class="o">&gt;</span> <span class="nt">ol</span> <span class="o">&gt;</span> <span class="nt">li</span><span class="nd">::before</span> <span class="p">{</span>
    <span class="nl">content</span> <span class="p">:</span> <span class="n">counters</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="s1">"."</span><span class="p">)</span> <span class="s1">". "</span>
<span class="p">}</span>
</code></pre>

<h2 id="unordered-lists">Unordered lists</h2>

<p>Again, I am using <code>&gt;</code> to ensure that lists are at a descendent level in relation to another unordered list:</p>
<pre class="code-quote css"><code><span class="nt">ul</span> <span class="o">&gt;</span> <span class="nt">li</span><span class="nd">::before</span> <span class="p">{</span>
    <span class="nl">content</span> <span class="p">:</span> <span class="s1">"➢"</span>
<span class="p">}</span>

<span class="nt">ul</span> <span class="o">&gt;</span> <span class="nt">li</span> <span class="o">&gt;</span> <span class="nt">ul</span> <span class="o">&gt;</span> <span class="nt">li</span><span class="nd">::before</span> <span class="p">{</span>
    <span class="nl">content</span> <span class="p">:</span> <span class="s1">"✽"</span>
<span class="p">}</span>

<span class="nt">ul</span> <span class="o">&gt;</span> <span class="nt">li</span> <span class="o">&gt;</span> <span class="nt">ul</span> <span class="o">&gt;</span> <span class="nt">li</span> <span class="o">&gt;</span> <span class="nt">ul</span> <span class="o">&gt;</span> <span class="nt">li</span><span class="nd">::before</span> <span class="p">{</span>
    <span class="nl">content</span> <span class="p">:</span> <span class="s1">"✦"</span>
<span class="p">}</span>

<span class="nt">ul</span> <span class="o">&gt;</span> <span class="nt">li</span> <span class="o">&gt;</span> <span class="nt">ul</span> <span class="o">&gt;</span> <span class="nt">li</span> <span class="o">&gt;</span> <span class="nt">ul</span> <span class="o">&gt;</span> <span class="nt">li</span> <span class="o">&gt;</span> <span class="nt">ul</span> <span class="o">&gt;</span> <span class="nt">li</span><span class="nd">::before</span> <span class="p">{</span>
    <span class="nl">content</span> <span class="p">:</span> <span class="s1">"✯"</span>
<span class="p">}</span>

<span class="nt">ul</span> <span class="o">&gt;</span> <span class="nt">li</span> <span class="o">&gt;</span> <span class="nt">ul</span> <span class="o">&gt;</span> <span class="nt">li</span> <span class="o">&gt;</span> <span class="nt">ul</span> <span class="o">&gt;</span> <span class="nt">li</span> <span class="o">&gt;</span> <span class="nt">ul</span> <span class="o">&gt;</span> <span class="nt">li</span> <span class="o">&gt;</span> <span class="nt">ul</span> <span class="o">&gt;</span> <span class="nt">li</span><span class="nd">::before</span> <span class="p">{</span>
    <span class="nl">content</span> <span class="p">:</span> <span class="s1">"✤"</span>
<span class="p">}</span>
</code></pre>

<h3 id="unsetting-styles">Unsetting styles</h3>

<p>To remove the above generated styles for ordered and unordered styles:</p>
<pre class="code-quote css"><code><span class="nc">.no-markers</span> <span class="o">&gt;</span> <span class="nt">li</span><span class="nd">::before</span> <span class="p">{</span>
    <span class="nl">display</span> <span class="p">:</span> <span class="nb">none</span>
<span class="p">}</span>

<span class="nc">.no-markers</span> <span class="o">&gt;</span> <span class="nt">li</span><span class="nd">:first-child</span> <span class="p">{</span>
    <span class="nl">counter-reset</span> <span class="p">:</span> <span class="nb">none</span>
<span class="p">}</span>
</code></pre>

<p>The <code>no-markers</code> class is for illustrative purposes.</p>

<h2 id="all-styles">All styles</h2>

<p>I like to verbosely annotate my styles and then strip those comments (as well as any whitespace) before uploading them. The following styles are therefore replete with comments that echo the above article:</p>
<pre class="code-quote css"><code><span class="nt">body</span> <span class="p">{</span>
    <span class="nl">padding</span> <span class="p">:</span> <span class="m">0</span> <span class="m">1.9em</span>
<span class="p">}</span>

<span class="nt">ol</span><span class="o">,</span>
<span class="nt">ul</span> <span class="p">{</span>
    <span class="nl">margin</span> <span class="p">:</span> <span class="m">1.4em</span> <span class="m">0</span><span class="p">;</span>
    <span class="nl">padding</span> <span class="p">:</span> <span class="m">0</span>
<span class="p">}</span>

<span class="nt">ol</span> <span class="o">&gt;</span> <span class="nt">li</span> <span class="o">&gt;</span> <span class="nt">ol</span><span class="o">,</span>
<span class="nt">ol</span> <span class="o">&gt;</span> <span class="nt">li</span> <span class="o">&gt;</span> <span class="nt">ul</span><span class="o">,</span>
<span class="nt">ul</span> <span class="o">&gt;</span> <span class="nt">li</span> <span class="o">&gt;</span> <span class="nt">ol</span><span class="o">,</span>
<span class="nt">ul</span> <span class="o">&gt;</span> <span class="nt">li</span> <span class="o">&gt;</span> <span class="nt">ul</span> <span class="p">{</span>
    <span class="nl">margin</span> <span class="p">:</span> <span class="m">0</span> <span class="c">/* Remove margins between lists nested within other lists */</span>
<span class="p">}</span>

<span class="nt">li</span> <span class="p">{</span>
    <span class="nl">display</span> <span class="p">:</span> <span class="n">table</span> <span class="c">/* Needed to enable “table-cell” display on “li::before” */</span><span class="p">;</span>
    <span class="nl">list-style</span> <span class="p">:</span> <span class="nb">none</span> <span class="c">/* Remove automatic markers */</span><span class="p">;</span>
    <span class="nl">position</span> <span class="p">:</span> <span class="nb">relative</span> <span class="c">/* This allows the top–nesting-level of lists to have their markers absolutely positioned into the margin of their parent element */</span>
<span class="p">}</span>

<span class="nt">li</span><span class="nd">::before</span> <span class="p">{</span>
    <span class="nl">display</span> <span class="p">:</span> <span class="nb">table-cell</span> <span class="c">/* Means that the marker is placed outside of item text */</span><span class="p">;</span>
    <span class="nl">left</span> <span class="p">:</span> <span class="m">-1.4em</span> <span class="c">/* For top level only, equal to the horizontal padding on the body element minus the same “.2em” as the padding on nested list items below */</span><span class="p">;</span>
    <span class="nl">width</span> <span class="p">:</span> <span class="m">1.2em</span> <span class="c">/* For top level only, creates space for list items up to “999” and enables “text-align : right” */</span><span class="p">;</span>
    <span class="nl">position</span> <span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span>
    <span class="nl">text-align</span> <span class="p">:</span> <span class="nb">right</span> <span class="c">/* For top level only, my personal preference for the variable width list numbers within the top level of an ordered list */</span>
<span class="p">}</span>

<span class="nt">ol</span> <span class="o">&gt;</span> <span class="nt">li</span><span class="nd">:first-child</span> <span class="p">{</span>
    <span class="nl">counter-reset</span> <span class="p">:</span> <span class="n">item</span>
<span class="p">}</span>

<span class="nt">ol</span> <span class="o">&gt;</span> <span class="nt">li</span><span class="nd">::before</span> <span class="p">{</span>
    <span class="nl">content</span> <span class="p">:</span> <span class="n">counter</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="s1">". "</span><span class="p">;</span>
    <span class="nl">counter-increment</span> <span class="p">:</span> <span class="n">item</span><span class="p">;</span>
    <span class="nl">letter-spacing</span> <span class="p">:</span> <span class="m">-.025em</span>
<span class="p">}</span>

<span class="nt">ol</span> <span class="o">&gt;</span> <span class="nt">li</span> <span class="o">&gt;</span> <span class="nt">ol</span> <span class="o">&gt;</span> <span class="nt">li</span><span class="nd">::before</span> <span class="p">{</span>
    <span class="nl">content</span> <span class="p">:</span> <span class="n">counters</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="s1">"."</span><span class="p">)</span> <span class="s1">". "</span> <span class="c">/* It is necessary to specify ‘counter’ for top level ordered lists and then ‘counters’ for nested ordered lists to be able to display a properly numbered ordered list within an unordered list */</span>
<span class="p">}</span>

<span class="nt">li</span> <span class="o">&gt;</span> <span class="nt">ol</span> <span class="o">&gt;</span> <span class="nt">li</span><span class="nd">::before</span><span class="o">,</span>
<span class="nt">li</span> <span class="o">&gt;</span> <span class="nt">ul</span> <span class="o">&gt;</span> <span class="nt">li</span><span class="nd">::before</span> <span class="p">{</span>
    <span class="nl">padding-right</span> <span class="p">:</span> <span class="m">.2em</span><span class="p">;</span>
    <span class="nl">position</span> <span class="p">:</span> <span class="nb">static</span> <span class="c">/* Undo the positioning for top level items */</span><span class="p">;</span>
    <span class="nl">text-align</span> <span class="p">:</span> <span class="n">initial</span><span class="p">;</span>
    <span class="nl">width</span> <span class="p">:</span> <span class="nb">auto</span>
<span class="p">}</span>

<span class="nt">ul</span> <span class="o">&gt;</span> <span class="nt">li</span><span class="nd">::before</span> <span class="p">{</span>
    <span class="nl">content</span> <span class="p">:</span> <span class="s1">"➢"</span>
<span class="p">}</span>

<span class="nt">ul</span> <span class="o">&gt;</span> <span class="nt">li</span> <span class="o">&gt;</span> <span class="nt">ul</span> <span class="o">&gt;</span> <span class="nt">li</span><span class="nd">::before</span> <span class="p">{</span>
    <span class="nl">content</span> <span class="p">:</span> <span class="s1">"✽"</span>
<span class="p">}</span>

<span class="nt">ul</span> <span class="o">&gt;</span> <span class="nt">li</span> <span class="o">&gt;</span> <span class="nt">ul</span> <span class="o">&gt;</span> <span class="nt">li</span> <span class="o">&gt;</span> <span class="nt">ul</span> <span class="o">&gt;</span> <span class="nt">li</span><span class="nd">::before</span> <span class="p">{</span>
    <span class="nl">content</span> <span class="p">:</span> <span class="s1">"✦"</span>
<span class="p">}</span>

<span class="nt">ul</span> <span class="o">&gt;</span> <span class="nt">li</span> <span class="o">&gt;</span> <span class="nt">ul</span> <span class="o">&gt;</span> <span class="nt">li</span> <span class="o">&gt;</span> <span class="nt">ul</span> <span class="o">&gt;</span> <span class="nt">li</span> <span class="o">&gt;</span> <span class="nt">ul</span> <span class="o">&gt;</span> <span class="nt">li</span><span class="nd">::before</span> <span class="p">{</span>
    <span class="nl">content</span> <span class="p">:</span> <span class="s1">"✯"</span>
<span class="p">}</span>

<span class="nt">ul</span> <span class="o">&gt;</span> <span class="nt">li</span> <span class="o">&gt;</span> <span class="nt">ul</span> <span class="o">&gt;</span> <span class="nt">li</span> <span class="o">&gt;</span> <span class="nt">ul</span> <span class="o">&gt;</span> <span class="nt">li</span> <span class="o">&gt;</span> <span class="nt">ul</span> <span class="o">&gt;</span> <span class="nt">li</span> <span class="o">&gt;</span> <span class="nt">ul</span> <span class="o">&gt;</span> <span class="nt">li</span><span class="nd">::before</span> <span class="p">{</span>
    <span class="nl">content</span> <span class="p">:</span> <span class="s1">"✤"</span>
<span class="p">}</span>

<span class="nc">.no-markers</span> <span class="o">&gt;</span> <span class="nt">li</span><span class="nd">::before</span> <span class="p">{</span>
    <span class="nl">display</span> <span class="p">:</span> <span class="nb">none</span>
<span class="p">}</span>

<span class="nc">.no-markers</span> <span class="o">&gt;</span> <span class="nt">li</span><span class="nd">:first-child</span> <span class="p">{</span>
    <span class="nl">counter-reset</span> <span class="p">:</span> <span class="nb">none</span>
<span class="p">}</span>
</code></pre>
      </div>
    </content>
  </entry>
  <entry>
    <title type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">
Reading whilst watching (and listening)      </div>
    </title>
    <link rel="alternate" href="https://isfeargoidte.me.uk/2016/03/25/reading-whilst-watching-and-listening"/>
    <id>https://isfeargoidte.me.uk/2016/03/25/reading-whilst-watching-and-listening</id>
    <published>2016-03-25T21:15:00+00:00</published>
    <updated>2016-05-23T12:49:32+01:00</updated>
    <author>
      <name>James Ó Nuanáin</name>
    </author>
    <summary type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">
A short note on typography for the <cite>SubRip text file format</cite> for providing subtitles for films.
      </div>
    </summary>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">
A short note on typography for the <cite>SubRip text file format</cite> for providing subtitles for films.
<p>Subtitles are generally read whilst you’re trying to simultaneously watch a film <em>and</em> listen to the voices to gauge the emotion and intention of the character or person speaking. That is a lot to ask of a partially-shaved monkey; and anything that can speed comprehension is a boon. Poor spelling, straight quotation marks, and lazy punctuation are an unnecessary burden.</p>

<p>I have a tendency to frequently rewatch films—though with varying degrees of attention—so for me, the fifteen minutes or half an hour it takes for me to edit the subtitles has some quality of investment. By uploading the edited subtitles to a site such as <a href="https://subscene.com/u/998178">Subscene</a>, others can benefit from, or be subjected to, your pernicketiness.</p>

<h2 id="specifying-encoding">Specifying encoding</h2>

<p>You always want to use <a href="https://www.ietf.org/rfc/rfc3629.txt">utf-8</a>. Other than accented letters; it enables you to use curly quotes, horizontal ellipses, and varying widths of dash. The mechanism for declaring the encoding of a <code>.srt</code> file is to use the <a href="https://www.w3.org/International/questions/qa-byte-order-mark.en.php#answer">byte-order mark</a>.</p>

<h2 id="conventions-particular-to-subtitles">Conventions particular to subtitles</h2>

<p>The only two widely-supported styling options for the text are the bold (<code>&lt;b&gt;</code>) and italic (<code>&lt;i&gt;</code>) mark-up elements. Computers tend to embolden fonts by drawing over them with bigger, thicker pen rendering ugly results so I only use italics.</p>

<p>Use italic to emphasis an individual word in speech where it is emphasized in the dialogue, “she said <em>what</em>?”; to indicate the dialogue is being spoken by someone off camera, out of focus, or in the background whilst another character is in the foreground and in focus; and for intertitles.</p>

<p>An em dash (—) indicates the beginning of a line of dialogue. If two characters’ or people’s dialogue is on the screen at the same time, each characters line is introduced with an em dash:</p>

<pre>—Are you going to sit down?<br />
—Give me a second to take off my coat.</pre>

<aside>I usually format initialisms using intervening full-stops. This habit is hardly a popular stylist choice but for subtitles it definitely does make them easier to digest.</aside>

<h2 id="naming-subtitles-files">Naming subtitles files</h2>

<p>My own video players of preference, <a href="https://plex.tv">Plex</a> and <a href="https://www.videolan.org/vlc/">V.L.C.</a>, favour a naming convention of a film title followed by the year of release in brackets (“<cite xml:lang="es">Relatos salvajes</cite> (2014)”) for a folder containing the film and subitle file similarly name with an <a href="https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes">I.S.O. code</a> signifying the language (<a href="https://support.plex.tv/hc/en-us/articles/200471133-Adding-Local-Subtitles-to-Your-Media">Adding Local Subtitles to Your Media</a>):</p>

<pre><samp>
/Films<br />
   /Relatos salvajes (2014)<br />
      Relatos salvajes (2014).m4v<br />
      Relatos salvajes (2014).<em>en</em>.srt<br />
</samp></pre>

<h2 id="common-corrections">Common corrections</h2>

<h3 id="i-impersonating-l">“I” impersonating “l”</h3>

<p>Many subtitles contain the capital letter <em>I</em> masquerading as a lowercase <em>L</em>. On some sans-serif fonts the characters are indistinguishable (as is the number <em>1</em>) but using a serif font, they are quite dissimilar. Since this bamboozles my spellchecker, I use the following <a href="https://en.wikipedia.org/wiki/Grep">grep</a> pattern (in <a href="http://www.barebones.com/products/bbedit/">BBEdit</a> my text editor of choice) to identify them.</p>

<p>An uppercase <em>I</em> immediately preceded by a lowercase letter:</p>
<pre class="code-quote plaintext"><code>[a-z]I
</code></pre>

<h2 id="fin"><span xml:lang="fr">Fin</span></h2>

<p><cite>SubRip text file format</cite> is a convention rather than a standard, hence the brevity of this note. Additional information about using the whole gamut of graphemes available in English are plentiful elsewhere and probably lurking elsewhere on this site. Happy captioning.</p>
      </div>
    </content>
  </entry>
  <entry>
    <title type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">
404 ‘file not found’ error page for GitHub pages and Middleman      </div>
    </title>
    <link rel="alternate" href="https://isfeargoidte.me.uk/2016/03/22/404-error-github-pages-middleman"/>
    <id>https://isfeargoidte.me.uk/2016/03/22/404-error-github-pages-middleman</id>
    <published>2016-03-22T16:00:00+00:00</published>
    <updated>2016-04-07T08:34:15+01:00</updated>
    <author>
      <name>James Ó Nuanáin</name>
    </author>
    <summary type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">
How to setup a custom <a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.5">404 page</a> for a site generated by <a href="https://middlemanapp.com">Middleman</a> and hosted on <a href="https://pages.github.com">GitHub pages</a>.
      </div>
    </summary>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">
How to setup a custom <a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.5">404 page</a> for a site generated by <a href="https://middlemanapp.com">Middleman</a> and hosted on <a href="https://pages.github.com">GitHub pages</a>.
<p>The 404 ‘file not found’ error is generated when a user-agent attempts to access a document that does not exist. It is helpful to redirect these errors to a document that can explain to someone that there is no document at the address they were accessing. It’s an added bonus if you can provide them with a way to find the document for which they were looking.</p>

<p>GitHub pages doesn’t support server redirects. <a href="https://help.github.com/articles/creating-a-custom-404-page-for-your-github-pages-site/">GitHub does support a custom ’file not found‘ error page but it <em>must</em> be named <code>404.html</code> <em>or</em> <code>404.md</code></a>.</p>

<h2 id="directory-indices">Directory indices</h2>

<p>Since the file must be named <code>404.html</code> or <code>404.md</code>; if you’re using directory indices, they need to be turned off for the <code>404.html</code> file (<code>https://example.com/404/</code> and <code>https://example.com/404</code> will just redirect users to GutHub’s own 404 page. So assuming that you’re using <code>404.html</code>, add the following to your <code>config.rb</code> file:</p>
<pre class="code-quote ruby"><code><span class="n">page</span> <span class="s1">'/404.html'</span><span class="p">,</span> <span class="ss">directory_index: </span><span class="kp">false</span>
</code></pre>

<p>If you’re using the <a href="https://github.com/middleman/middleman-blog"><cite>middleman-blog</cite></a> extension, the directory indices settings—including the above—need to follow (rather than precede) the blog settings for them to work with pages generated by the blogging extension.</p>

<h2 id="application-xhtml-xml"><code>application/xhtml+xml</code></h2>

<p>Due to my utopian, and contrarian, nature I am still banging a tiny drum for <abbr title="eXtensible Hypertext Mark-up Language" class="initialism">X.H.T.M.L.</abbr> served with the proper mime-type.</p>

<p>GitHub does not support using a file called <code>404.xhtml</code> (though they are looking at it) and bases its mime-types on the extension of files so the error page needs to be a document with the extension <code>.html</code> document. For this I use a separate <code>404_layout.rb</code> file with the mark-up tweaked for style-sheets via a link element and declaring the encoding using a meta tag.</p>

<h2 id="relative-links">Relative links</h2>

<p>Because <cite>GitHub pages</cite> is not using a server redirect for your custom page, you can’t use relative links as they will only work when you access the page directly: <code>example.com/404.html</code>.</p>

<p>Instead, the template and the layout file must use absolute links to assets (images, style-sheets <abbr lang="la" title="et cetera">&amp;c.</abbr>) as well as to other pages on your site.</p>

<h2 id="wrap-up">Wrap-up</h2>

<p>I haven’t bothered with the content of the 404 document itself, since that is dependent on the existing navigational elements of your site.</p>

<p>I think you should include both a reference to “file not found” and “404” in the title, since those terms should be familiar to many users.</p>

<p>An ability to search the site and possibly a replication of any archive page are also good ideas for content.</p>

<p>Avoid being too adamant that it’s the user’s fault or being too passive aggressive—surprisingly, those are quite common for the content of 404 pages.</p>

<p>My own is inexcusably terse: <a href="https://isfeargoidte.me.uk/404.html">Fear Goidte’s 404</a> but I have an archive link on my site-wide navigation menu and not enough content to warrant an ability to search the site from within the site.</p>
      </div>
    </content>
  </entry>
  <entry>
    <title type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">
“Tag!”, Middleman is it      </div>
    </title>
    <link rel="alternate" href="https://isfeargoidte.me.uk/2016/02/19/tag-middleman-is-it"/>
    <id>https://isfeargoidte.me.uk/2016/02/19/tag-middleman-is-it</id>
    <published>2016-02-19T10:30:00+00:00</published>
    <updated>2016-05-23T12:49:32+01:00</updated>
    <author>
      <name>James Ó Nuanáin</name>
    </author>
    <summary type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">
Doing more with the <a href="https://middlemanapp.com/basics/blogging/">middleman-blog</a> extension’s tags. Adding descriptions, names with inline mark-up, and the tag <code>rel</code> attribute. This is assuming that you have setup a blank blog as per <dfn><a href="/2016/02/02/would-have-worn-gloves#nav_main">If I’d known there’d be so much typing, I would have worn gloves</a></dfn>.
      </div>
    </summary>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">
Doing more with the <a href="https://middlemanapp.com/basics/blogging/">middleman-blog</a> extension’s tags. Adding descriptions, names with inline mark-up, and the tag <code>rel</code> attribute. This is assuming that you have setup a blank blog as per <dfn><a href="/2016/02/02/would-have-worn-gloves#nav_main">If I’d known there’d be so much typing, I would have worn gloves</a></dfn>.
<h2 id="displaying-tags-alphabetically">Displaying tags alphabetically</h2>

<p>Especially with a long list of tags, and extra-especially when accessing them through voice or touch; it would be nice to have an idea of where you are in the list. Alphabetically ordering the tags gives someone and idea of where they are and the direction to go in to find a particular tag (up/back forward/behind).</p>

<p>The current ruby code displays tags in articles (<code>current_article.tags</code>) in the order in which they are entered in the front matter of that post, and for archives (<code>blog.tags</code>) <em>I think</em> they are displayed in the order in which they first appear in an article:</p>
<pre class="code-quote erb"><code><span class="cp">&lt;%</span> <span class="n">blog</span><span class="p">.</span><span class="nf">tags</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">tag</span><span class="p">,</span> <span class="n">articles</span><span class="o">|</span> <span class="cp">%&gt;</span>
</code></pre>

<p>To re-order them alphabetically:</p>
<pre class="code-quote erb"><code><span class="cp">&lt;%</span> <span class="n">blog</span><span class="p">.</span><span class="nf">tags</span><span class="p">.</span><span class="nf">sort</span><span class="p">{</span> <span class="o">|</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="o">|</span> <span class="n">a</span><span class="p">.</span><span class="nf">to_s</span><span class="p">.</span><span class="nf">downcase</span> <span class="o">&lt;=&gt;</span> <span class="n">b</span><span class="p">.</span><span class="nf">to_s</span><span class="p">.</span><span class="nf">downcase</span> <span class="p">}.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">tag</span><span class="p">,</span> <span class="n">articles</span><span class="o">|</span> <span class="cp">%&gt;</span>
</code></pre>

<p>The <code>to_s.downcase</code> changes the tags to lowercase for sorting purposes, otherwise they are ordered by uppercase, and then by lowercase as two separate but adjacent logical lists.</p>

<h2 id="descriptions-and-names-with-inline-mark-up">Descriptions and names with inline mark-up</h2>

<p>These are instructions to optionally create descriptions for tags as well as names with inline mark-up that can be used for link text and as titles on tag archives.</p>

<h3 id="yaml-data"><abbr title="YAML Ain’t Markup Language" class="initialism">YAML</abbr> data</h3>

<p>Create a new <code>.yaml</code> file to hold the data: <code>/data/tags.yaml</code>.</p>

<p>Add entries to the file in the following format:</p>
<pre class="code-quote yaml"><code><span class="s">XHTML</span><span class="pi">:</span>
  <span class="s">name</span><span class="pi">:</span> <span class="s">&lt;abbr title="eXtensible Hypertext Mark-up Language" class="initialism"&gt;X.H.T.M.L.&lt;/abbr&gt;</span>
  <span class="s">description</span><span class="pi">:</span> <span class="pi">&gt;</span>
    <span class="no">Extensible Hypertext Markup Language is part of the family of &lt;abbr title="eXtensible Markup Language" class="initialism"&gt;X.M.L.&lt;/abbr&gt; markup languages. It mirrors or extends versions of Hypertext Markup Language (&lt;dfn class="initialism"&gt;H.T.M.L.&lt;/dfn&gt;).</span>
<span class="s">application/xhtml+xml</span><span class="pi">:</span>
  <span class="s">name</span><span class="pi">:</span> <span class="s">&lt;code&gt;application/xhtml+xml&lt;/code&gt;</span>
  <span class="s">description</span><span class="pi">:</span> <span class="pi">&gt;</span>
    <span class="no">The &lt;dfn&gt;application/xhtml+xml&lt;/dfn&gt; media type (&lt;a href="http://www.rfc-editor.org/rfc/rfc3236.txt"&gt;RFC3236&lt;/a&gt;) is the primary media type for &lt;abbr title="eXtensible Hypertext Mark-up Language" class="initialism"&gt;X.H.T.M.L.&lt;/abbr&gt; Family documents.</span>
</code></pre>

<p>Where the first line “<code>XHTML:</code>” matches the tag as referenced in your article’s front matter and “<code>name: &lt;abbr title=&quot;eXtensible Hypertext Mark-up Language&quot; class=&quot;initialism&quot;&gt;X.H.T.M.L.&lt;/abbr&gt;</code>” matches the name of the tag as you would like it displayed within the body of your documents (links and titles).</p>

<h3 id="article-headers">Article headers</h3>

<p>Code for listing the tags in the article header:</p>
<pre class="code-quote erb"><code><span class="cp">&lt;%</span> <span class="k">if</span> <span class="n">current_article</span><span class="p">.</span><span class="nf">tags</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;dl&gt;</span>
    <span class="nt">&lt;dt&gt;</span>Tagged with<span class="nt">&lt;/dt&gt;</span>
    <span class="cp">&lt;%</span> <span class="n">current_article</span><span class="p">.</span><span class="nf">tags</span><span class="p">.</span><span class="nf">sort</span><span class="p">{</span> <span class="o">|</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="o">|</span> <span class="n">a</span><span class="p">.</span><span class="nf">to_s</span><span class="p">.</span><span class="nf">downcase</span> <span class="o">&lt;=&gt;</span> <span class="n">b</span><span class="p">.</span><span class="nf">to_s</span><span class="p">.</span><span class="nf">downcase</span> <span class="p">}.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">tag</span><span class="p">,</span> <span class="n">articles</span><span class="o">|</span> <span class="cp">%&gt;</span>
        <span class="cp">&lt;%</span> <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s1">'tags'</span><span class="p">][</span><span class="n">tag</span><span class="p">.</span><span class="nf">to_sym</span><span class="p">]</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;dd&gt;&lt;a</span> <span class="na">href=</span><span class="s">"</span><span class="cp">&lt;%=</span> <span class="n">url_for</span> <span class="n">tag_path</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span> <span class="cp">%&gt;</span><span class="s">"</span> <span class="na">rel=</span><span class="s">"tag"</span><span class="nt">&gt;</span><span class="cp">&lt;%=</span> <span class="n">data</span><span class="p">[</span><span class="s1">'tags'</span><span class="p">][</span><span class="n">tag</span><span class="p">.</span><span class="nf">to_sym</span><span class="p">][</span><span class="ss">:name</span><span class="p">]</span> <span class="cp">%&gt;</span><span class="nt">&lt;/a&gt;&lt;/dd&gt;</span>
        <span class="cp">&lt;%</span> <span class="k">else</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;dd&gt;</span><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="n">tag</span><span class="p">,</span> <span class="n">tag_path</span><span class="p">(</span><span class="n">tag</span><span class="p">),</span> <span class="ss">rel: </span><span class="s1">'tag'</span> <span class="cp">%&gt;</span><span class="nt">&lt;/dd&gt;</span>
        <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
    <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;/dl&gt;</span>
<span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
</code></pre>

<p>For the article headers, the tag links have <code>rel=&quot;tag&quot;</code> attributes. Read more about this attribute at <a href="https://www.w3.org/TR/html5/links.html#link-type-tag">4.8.4.12 Link type “tag”—<cite><abbr title="Hypertext Mark-up Language" class="initialism">H.T.M.L.</abbr>5
A vocabulary and associated <abbr title="application programming interface" class="initialism">A.P.I.</abbr>s for <abbr title="Hypertext Mark-up Language" class="initialism">H.T.M.L.</abbr> and <abbr title="eXtensible Hypertext Mark-up Language" class="initialism">X.H.T.M.L.</abbr></cite></a>.</p>

<h3 id="article-summaries">Article summaries</h3>

<p>Code for listing the tags in article summaries:</p>
<pre class="code-quote erb"><code><span class="cp">&lt;%</span> <span class="k">if</span> <span class="n">article</span><span class="p">.</span><span class="nf">tags</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;footer&gt;</span>
<span class="nt">&lt;dl&gt;</span>
    <span class="nt">&lt;dt&gt;</span>Tagged with<span class="nt">&lt;/dt&gt;</span>
    <span class="cp">&lt;%</span> <span class="n">article</span><span class="p">.</span><span class="nf">tags</span><span class="p">.</span><span class="nf">sort</span><span class="p">{</span> <span class="o">|</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="o">|</span> <span class="n">a</span><span class="p">.</span><span class="nf">to_s</span><span class="p">.</span><span class="nf">downcase</span> <span class="o">&lt;=&gt;</span> <span class="n">b</span><span class="p">.</span><span class="nf">to_s</span><span class="p">.</span><span class="nf">downcase</span> <span class="p">}.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">tag</span><span class="p">,</span> <span class="n">articles</span><span class="o">|</span> <span class="cp">%&gt;</span>
        <span class="cp">&lt;%</span> <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s1">'tags'</span><span class="p">][</span><span class="n">tag</span><span class="p">.</span><span class="nf">to_sym</span><span class="p">]</span> <span class="cp">%&gt;</span>
            <span class="cp">&lt;%</span> <span class="k">if</span> <span class="n">current_page</span><span class="p">.</span><span class="nf">url</span> <span class="o">==</span> <span class="n">tag_path</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;dd&gt;</span><span class="cp">&lt;%=</span> <span class="n">data</span><span class="p">[</span><span class="s1">'tags'</span><span class="p">][</span><span class="n">tag</span><span class="p">.</span><span class="nf">to_sym</span><span class="p">][</span><span class="ss">:name</span><span class="p">]</span> <span class="cp">%&gt;</span><span class="nt">&lt;/dd&gt;</span>
           <span class="cp">&lt;%</span> <span class="k">else</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;dd&gt;&lt;a</span> <span class="na">href=</span><span class="s">"</span><span class="cp">&lt;%=</span> <span class="n">url_for</span> <span class="n">tag_path</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span> <span class="cp">%&gt;</span><span class="s">"</span><span class="nt">&gt;</span><span class="cp">&lt;%=</span> <span class="n">data</span><span class="p">[</span><span class="s1">'tags'</span><span class="p">][</span><span class="n">tag</span><span class="p">.</span><span class="nf">to_sym</span><span class="p">][</span><span class="ss">:name</span><span class="p">]</span> <span class="cp">%&gt;</span><span class="nt">&lt;/a&gt;&lt;/dd&gt;</span>
            <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
        <span class="cp">&lt;%</span> <span class="k">else</span> <span class="cp">%&gt;</span>
            <span class="cp">&lt;%</span> <span class="k">if</span> <span class="n">current_page</span><span class="p">.</span><span class="nf">url</span> <span class="o">==</span> <span class="n">tag_path</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;dd&gt;</span><span class="cp">&lt;%=</span> <span class="n">tag</span> <span class="cp">%&gt;</span><span class="nt">&lt;/dd&gt;</span>
           <span class="cp">&lt;%</span> <span class="k">else</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;dd&gt;</span><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="n">tag</span><span class="p">,</span> <span class="n">tag_path</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span> <span class="cp">%&gt;</span><span class="nt">&lt;/dd&gt;</span>
            <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
        <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
<span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;/dl&gt;</span>
<span class="nt">&lt;/footer&gt;</span>
<span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
</code></pre>

<h3 id="main-archive">Main archive</h3>

<p>Code for listing links to the tag archives on a main archive page:</p>
<pre class="code-quote erb"><code><span class="nt">&lt;ol&gt;</span>
<span class="cp">&lt;%</span> <span class="n">blog</span><span class="p">.</span><span class="nf">tags</span><span class="p">.</span><span class="nf">sort</span><span class="p">{</span> <span class="o">|</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="o">|</span> <span class="n">a</span><span class="p">.</span><span class="nf">to_s</span><span class="p">.</span><span class="nf">downcase</span>   <span class="o">&lt;=&gt;</span> <span class="n">b</span><span class="p">.</span><span class="nf">to_s</span><span class="p">.</span><span class="nf">downcase</span>   <span class="p">}.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">tag</span><span class="p">,</span> <span class="n">articles</span><span class="o">|</span> <span class="cp">%&gt;</span>
    <span class="cp">&lt;%</span> <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s1">'tags'</span><span class="p">][</span><span class="n">tag</span><span class="p">.</span><span class="nf">to_sym</span><span class="p">]</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"</span><span class="cp">&lt;%=</span> <span class="n">url_for</span> <span class="n">tag_path</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span> <span class="cp">%&gt;</span><span class="s">"</span><span class="nt">&gt;</span><span class="cp">&lt;%=</span> <span class="n">data</span><span class="p">[</span><span class="s1">'tags'</span><span class="p">][</span><span class="n">tag</span><span class="p">.</span><span class="nf">to_sym</span><span class="p">][</span><span class="ss">:name</span><span class="p">]</span> <span class="cp">%&gt;</span><span class="nt">&lt;/a&gt;</span> (<span class="cp">&lt;%=</span> <span class="n">spell_out</span><span class="p">(</span><span class="n">articles</span><span class="p">.</span><span class="nf">size</span><span class="p">)</span> <span class="cp">%&gt;</span>)—<span class="cp">&lt;%=</span> <span class="n">data</span><span class="p">[</span><span class="s1">'tags'</span><span class="p">][</span><span class="n">tag</span><span class="p">.</span><span class="nf">to_sym</span><span class="p">][</span><span class="ss">:description</span><span class="p">]</span> <span class="cp">%&gt;</span><span class="nt">&lt;/li&gt;</span>
    <span class="cp">&lt;%</span> <span class="k">else</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;li&gt;</span><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s2">"</span><span class="si">#{</span><span class="n">tag</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span> <span class="n">tag_path</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span> <span class="cp">%&gt;</span> (<span class="cp">&lt;%=</span> <span class="n">spell_out</span><span class="p">(</span><span class="n">articles</span><span class="p">.</span><span class="nf">size</span><span class="p">)</span> <span class="cp">%&gt;</span>)<span class="nt">&lt;/li&gt;</span>
    <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
<span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;/ol&gt;</span>
</code></pre>

<p>The above depends on having a <code>\helpers\spell_out.rb</code> file containing:</p>
<pre class="code-quote erb"><code>def spell_out(value)
  value = value.to_i
  if value &gt;= 0 <span class="err">&amp;&amp;</span> value <span class="nt">&lt; 11</span>
    <span class="na">return</span> <span class="err">%</span><span class="na">w</span><span class="err">(</span><span class="na">zero</span> <span class="na">one</span> <span class="na">two</span> <span class="na">three</span> <span class="na">four</span> <span class="na">five</span> <span class="na">six</span> <span class="na">seven</span> <span class="na">eight</span> <span class="na">nine</span> <span class="na">ten</span><span class="err">)[</span><span class="na">value</span><span class="err">]</span>
  <span class="na">else</span>
    <span class="na">return</span> <span class="na">value</span>
  <span class="na">end</span>
<span class="na">end</span>

</code></pre>

<h3 id="tag-archives">Tag archives</h3>

<p>This code is for the generated individual tag archives (<code>source\tag.xhtml.erb</code>):</p>
<pre class="code-quote erb"><code><span class="cp">&lt;%</span> <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s1">'tags'</span><span class="p">][</span><span class="n">tagname</span><span class="p">.</span><span class="nf">to_sym</span><span class="p">]</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;h1</span> <span class="na">property=</span><span class="s">"dcterms:title"</span><span class="nt">&gt;</span>Articles tagged <span class="nt">&lt;em&gt;</span><span class="cp">&lt;%=</span> <span class="n">data</span><span class="p">[</span><span class="s1">'tags'</span><span class="p">][</span><span class="n">tagname</span><span class="p">.</span><span class="nf">to_sym</span><span class="p">][</span><span class="ss">:name</span><span class="p">]</span> <span class="cp">%&gt;</span><span class="nt">&lt;/em&gt;&lt;/h1&gt;</span>
<span class="nt">&lt;p&gt;</span>
<span class="cp">&lt;%=</span> <span class="n">data</span><span class="p">[</span><span class="s1">'tags'</span><span class="p">][</span><span class="n">tagname</span><span class="p">.</span><span class="nf">to_sym</span><span class="p">][</span><span class="ss">:description</span><span class="p">]</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;/p&gt;</span>
<span class="cp">&lt;%</span> <span class="k">else</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;h1</span> <span class="na">property=</span><span class="s">"dcterms:title"</span><span class="nt">&gt;</span>Articles tagged <span class="nt">&lt;em&gt;</span><span class="cp">&lt;%=</span> <span class="n">tagname</span> <span class="cp">%&gt;</span><span class="nt">&lt;/em&gt;&lt;/h1&gt;</span>
<span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
</code></pre>

<h2 id="conclusion">Conclusion</h2>

<p>A little short on exposition but contains all the necessary code.</p>
      </div>
    </content>
  </entry>
  <entry>
    <title type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">
Weigh anchor      </div>
    </title>
    <link rel="alternate" href="https://isfeargoidte.me.uk/2016/02/19/weigh-anchor"/>
    <id>https://isfeargoidte.me.uk/2016/02/19/weigh-anchor</id>
    <published>2016-02-19T09:00:00+00:00</published>
    <updated>2016-05-23T12:49:32+01:00</updated>
    <author>
      <name>James Ó Nuanáin</name>
    </author>
    <summary type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">
The web, and Wikipedia is a prime example, is a multitude of documents linked together. It does lots of other things, but mostly it’s links and documents. This is an abrupt note on stylesheet selectors for links and pseudo-conventions for styling them.
      </div>
    </summary>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">
The web, and Wikipedia is a prime example, is a multitude of documents linked together. It does lots of other things, but mostly it’s links and documents. This is an abrupt note on stylesheet selectors for links and pseudo-conventions for styling them.
<p>The selectors below, make use of attribute selectors with wildcards. Descriptions of these can be found at <a href="https://www.w3.org/TR/css3-selectors/#attribute-selectors">6.3. Attribute selectors—<abbr title="World Wide Web Consortium" class="initialism">W.3.C.</abbr>’s Selectors Level 3</a>.</p>

<h2 id="identifying-links">Identifying links</h2>

<h3 id="types">Types</h3>

<p>Links could be divided into the following broad types (and currently are being, by me):</p>

<ul>
<li><dfn>internal</dfn> to the page,</li>
<li><dfn>local</dfn> to another part of the website,</li>
<li><dfn>e-mail</dfn> addresses,</li>
<li><dfn>downloadable resources</dfn> (internal or external), and</li>
<li><dfn>external</dfn> to another location on the Internet.</li>
</ul>

<h4 id="ascertaining-the-broad-link-type">Ascertaining the broad link type</h4>

<h5 id="internal-to-the-page">Internal to the page</h5>

<p>Search for any link element (<code>a</code>) with an <code>href</code> attribute that begins with “#”:</p>
<pre class="code-quote css"><code><span class="nt">a</span><span class="o">[</span><span class="nt">href</span><span class="o">^=</span><span class="err">'#'</span><span class="o">]</span>
</code></pre>

<h5 id="external-and-local">External and local</h5>

<p>The way to distinguishing between external and local links depends on how your website is configured: whether you are using absolute links, relative links, or a mixture of both.</p>

<h6 id="absolute-links">Absolute links</h6>

<p>For absolute links, (assuming your server is “example.com”) the following selector will identify your local links:</p>
<pre class="code-quote css"><code><span class="o">[</span><span class="nt">href</span><span class="o">*=</span><span class="err">'</span><span class="nt">example</span><span class="nc">.com</span><span class="err">'</span><span class="o">]</span>
</code></pre>

<p>I have omitted the <code>http</code> since a page might be accessed over <code>http</code> or <code>https</code>. The <code>*</code> wildcard signifies that you are looking for an attribute that contains the quoted value (<code>&#39;example.com&#39;</code>).</p>

<h6 id="relative-links">Relative links</h6>

<p>For relative links, the following will select external links:</p>
<pre class="code-quote css"><code><span class="nt">a</span><span class="o">[</span><span class="nt">href</span><span class="o">^=</span><span class="err">'</span><span class="nt">http</span><span class="err">'</span><span class="o">]</span>
</code></pre>

<h6 id="mixed-absolute-and-relative-links">Mixed absolute and relative links</h6>

<p>For a mixture of absolute and relative links (which is the most likely scenario) and again assuming that your server is “example.com”, the following selector will select all external links:</p>
<pre class="code-quote css"><code><span class="nt">a</span><span class="o">[</span><span class="nt">href</span><span class="o">^=</span><span class="err">'</span><span class="nt">http</span><span class="err">'</span><span class="o">]</span><span class="nd">:not</span><span class="o">([</span><span class="nt">href</span><span class="o">*=</span><span class="err">'</span><span class="nt">example</span><span class="nc">.com</span><span class="err">'</span><span class="o">])</span>
</code></pre>

<p>This is also the most fool-resistant approach. It searches for all links with <code>href</code> attributes that begin with “http” but don’t contain “example.com”.</p>

<p>Please note however that these approaches are not idiot-proof. For instance, you could still link to an internal document fragment using an absolute reference and the selector your mark-up matches will be the local one rather than the internal one.</p>

<h5 id="e-mail-links">E-mail links</h5>

<p>Unless you’re playing silly-buggers with contact forms or some esoteric obfuscation, e-mail inks can be easily selected using:</p>
<pre class="code-quote css"><code><span class="nt">a</span><span class="o">[</span><span class="nt">href</span><span class="o">^=</span><span class="err">'</span><span class="nt">mailto</span><span class="o">:</span><span class="err">'</span><span class="o">]</span>
</code></pre>

<h5 id="downloadable-resources">Downloadable resources</h5>

<p>For downloadable resources you need to target the file extension such as for <em>Portable Document Format</em> files:</p>
<pre class="code-quote css"><code><span class="nt">a</span><span class="o">[</span><span class="nt">href</span><span class="err">$</span><span class="o">=</span><span class="err">'</span><span class="nc">.pdf</span><span class="err">'</span><span class="o">]</span>
</code></pre>

<h3 id="the-rel-attribute">The <code>rel</code> attribute</h3>

<p><abbr title="Hypertext Mark-up Language" class="initialism">H.T.M.L.</abbr>5 allows other types to be defined using the <code>rel</code> attribute(<a href="https://www.w3.org/TR/html5/links.html#linkTypes">4.8.4 Link types—<abbr title="Hypertext Mark-up Language" class="initialism">H.T.M.L.</abbr>5</a>).</p>

<p>Some of these are not for action by the website user such as <code>rel=&quot;stylesheet&quot;</code> but the following are often worth highlighting visually:</p>

<ul>
<li><a href="https://www.w3.org/TR/html5/links.html#link-type-author"><code>author</code></a>,</li>
<li><a href="https://www.w3.org/TR/html5/links.html#link-type-help"><code>help</code></a>,</li>
<li><a href="https://www.w3.org/TR/html5/links.html#link-type-next"><code>next</code></a>,</li>
<li><a href="https://www.w3.org/TR/html5/links.html#link-type-prev"><code>prev</code></a>, and</li>
<li><a href="https://www.w3.org/TR/html5/links.html#link-type-tag"><code>tag</code></a>.</li>
</ul>

<p>To select these links:</p>
<pre class="code-quote css"><code><span class="nt">a</span><span class="o">:[</span><span class="nt">rel</span><span class="o">~=</span><span class="nt">value</span><span class="o">]</span>
</code></pre>

<p>Where “value” is one of the possible <code>rel</code> values above. The tilde above (~) allows <code>rel</code> to have multiple space separated values where one of them matches your value.</p>

<h3 id="states">States</h3>

<p>Links can be in the following states (ordered by <abbr title="Cascading Style Sheets" class="initialism">C.S.S.</abbr> specificity:</p>

<ul>
<li><em>Unvisited</em>, a link your user-agent doesn’t know or remember that you’ve visited;</li>
<li><em>Visited</em>, a link your user-agent knows or doesn’t remember you’ve visited;</li>
<li><em>Hover</em>—on mouse interfaces—, a link the pointer is hovering over; and</li>
<li><em>Active</em>, a link that is in the process of being followed.</li>
</ul>

<p>If you’re styling all the above states, the selectors should be in the same order:</p>
<pre class="code-quote css"><code><span class="nt">a</span><span class="nd">:link</span>
<span class="err">…</span>
<span class="nt">a</span><span class="nd">:visited</span>
<span class="err">…</span>
<span class="nt">a</span><span class="nd">:hover</span>
<span class="err">…</span>
<span class="nt">a</span><span class="nd">:active</span>
</code></pre>

<p>For a brief, yet more informative discussion of the order of link state selectors, see: <a href="http://meyerweb.com/eric/css/link-specificity.html">Link Specificity on Eric Meyer’s homepage</a>.</p>

<h2 id="visual-styling">Visual styling</h2>

<h3 id="link-types">Link types</h3>

<h4 id="internal">Internal</h4>

<p>Immediately followed by the <a href="https://en.wikipedia.org/wiki/Section_sign">section sign</a>. There is no convention for an internal page link, but if there was one (and there should be) it should be the <em>section sign</em>. A convention that no one else abides by is no convention, unless … you screw your eyes real tight and wish it so.</p>

<h4 id="local">Local</h4>

<p>A plain link, no adornment.</p>

<h4 id="e-mail">E-mail</h4>

<p>Immediately followed by an envelope icon which is in no way anachronistic to someone like me who insists on “<em>e-mail</em>”.</p>

<h4 id="downloadable-resources">Downloadable resources</h4>

<p>If you use routinely included particular kinds of downloadable files it is a good idea to indicate them with an icon immediately following the link. Regardless you should at least include the file extension as this will be transparent to all users.</p>

<h4 id="external">External</h4>

<p>Immediately followed by the usual external link <a href="https://commons.m.wikimedia.org/wiki/File:Icon_External_Link.svg">arrow out of box icon</a>.</p>

<h3 id="general-styling-notes">General styling notes</h3>

<h4 id="colours">Colours</h4>

<p>The convention is that links are <em>underlined</em> and that unvisited links are of a blueish hue and that visited links are of a purplish hue. Those have been the default colours since the web began and are familiar to users of <a href="https://duckduckgo.com">DuckDuckGo</a>, <a href="https://www.google.co.uk">Google</a>, and <a href="https://en.wikipedia.org/wiki/Main_Page">Wikipedia</a> amongst innumerable others. If you want people to learn a new colour scheme, just for your site … interesting.</p>

<h4 id="icons">Icons</h4>

<p>It is best not to use icons to highlight the <a href="#states">states</a> since they can change whilst a user is on the page (<code>:hover</code>) and the document will need to reflow to accommodate them.</p>

<p>If you use icons for link types, try to make them small and unobtrusive. If you’re using unicode glyphs or <code>&amp;font-face</code> with <a href="https://fortawesome.github.io/Font-Awesome/">Font Awesome</a>, <a href="https://icomoon.io/">IcoMoon</a> <abbr lang="la" title="et cetera">&amp;c.</abbr> or similar try to ensure that the colour of the icon matches the link state—just to emphasize that the icon refers to that link rather than other adjacent text.</p>
      </div>
    </content>
  </entry>
  <entry>
    <title type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">
A&#160;little something eXtra for the&#160;Middleman      </div>
    </title>
    <link rel="alternate" href="https://isfeargoidte.me.uk/2016/02/03/a-little-something-extra-for-the-middleman"/>
    <id>https://isfeargoidte.me.uk/2016/02/03/a-little-something-extra-for-the-middleman</id>
    <published>2016-02-03T10:00:00+00:00</published>
    <updated>2016-04-13T06:35:13+01:00</updated>
    <author>
      <name>James Ó Nuanáin</name>
    </author>
    <summary type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">
A short inexhaustive guide to adapting <a href="https://middlemanapp.com">Middleman 4.0.0</a> to output <abbr title="eXtensible Hypertext Mark-up Language" class="initialism">X.H.T.M.L.</abbr> rather than <abbr title="Hypertext Mark-up Language" class="initialism">H.T.M.L.</abbr>
      </div>
    </summary>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">
A short inexhaustive guide to adapting <a href="https://middlemanapp.com">Middleman 4.0.0</a> to output <abbr title="eXtensible Hypertext Mark-up Language" class="initialism">X.H.T.M.L.</abbr> rather than <abbr title="Hypertext Mark-up Language" class="initialism">H.T.M.L.</abbr>
<p>I’m not going to prattle on about which mark-up version is better. Suffice to say, I made the switch a long time ago and prefer to use <abbr title="eXtensible Hypertext Mark-up Language" class="initialism">X.H.T.M.L.</abbr></p>

<p>This is based on a vanilla setup of Middleman <em>4.0.0</em> and middleman-blog with the <a href="https://middlemanapp.com/basics/blogging/">blog template used to initiate the Middleman skeleton project</a>. <code>my_test_website</code> is used to refer to the directory which contains the Middleman skeleton project files.</p>

<h2 id="markdown">Markdown</h2>

<p>Since <abbr title="eXtensible Hypertext Mark-up Language" class="initialism">X.H.T.M.L.</abbr> has strict syntax you’ll want to switch your Markdown render to its <abbr title="eXtensible Hypertext Mark-up Language" class="initialism">X.H.T.M.L.</abbr> version. In the case of <a href="https://github.com/vmg/redcarpet">Redcarpet</a> (the default in Middleman 4.0.0), by adding the following to <code>my_test_website\config.rb</code>:</p>
<pre class="code-quote ruby"><code><span class="c1"># Markdown settings</span>
<span class="n">set</span> <span class="ss">:markdown_engine</span><span class="p">,</span> <span class="ss">:redcarpet</span>
<span class="n">set</span> <span class="ss">:markdown</span><span class="p">,</span> <span class="ss">xhtml: </span><span class="kp">true</span>
</code></pre>

<h2 id="directory-indices">Directory indices</h2>

<p>It’s always a good idea to use ‘pretty’ <abbr title="uniform resource locator" class="initialism">U.R.L.</abbr>s which exclude file extensions since they leave us open to changing language in the future and <a href="http://www.w3.org/Provider/Style/URI.html">Cool <abbr title="uniform resource identifier">U.R.I.</abbr>s don’t change</a>.</p>

<p>Directory indices in Middleman default to <code>index.html</code> so in <code>my_test_website\config.rb</code> underneath:</p>
<pre class="code-quote ruby"><code><span class="c1"># Activate directory indices and remove file extensions from urls</span>
<span class="n">activate</span> <span class="ss">:directory_indexes</span>
</code></pre>

<p>Add the line:</p>
<pre class="code-quote ruby"><code><span class="n">set</span> <span class="ss">:index_file</span><span class="p">,</span> <span class="s1">'index.xhtml'</span>
</code></pre>

<h2 id="blog-settings">Blog settings</h2>

<p>The blog helper defaults to specifying <code>.html</code> files, so in <code>my_test_website\config.rb</code> you need to change the following settings:</p>
<pre class="code-quote ruby"><code>  <span class="c1"># blog.permalink = "{year}/{month}/{day}/{title}.html"</span>
  <span class="c1"># blog.sources = "{year}-{month}-{day}-{title}.html"</span>
  <span class="c1"># blog.taglink = "tags/{tag}.html"</span>
  <span class="c1"># blog.year_link = "{year}.html"</span>
  <span class="c1"># blog.month_link = "{year}/{month}.html"</span>
  <span class="c1"># blog.day_link = "{year}/{month}/{day}.html"</span>
  <span class="n">blog</span><span class="p">.</span><span class="nf">tag_template</span> <span class="o">=</span> <span class="s2">"tag.html"</span>
  <span class="n">blog</span><span class="p">.</span><span class="nf">calendar_template</span> <span class="o">=</span> <span class="s2">"calendar.html"</span>
</code></pre>

<p>To (a simple find and replace from <code>.html</code> to <code>.xhtml</code>):</p>
<pre class="code-quote ruby"><code>  <span class="n">blog</span><span class="p">.</span><span class="nf">permalink</span> <span class="o">=</span> <span class="s1">'{year}/{month}/{day}/{title}.xhtml'</span>
  <span class="n">blog</span><span class="p">.</span><span class="nf">sources</span> <span class="o">=</span> <span class="s1">'{year}-{month}-{day}-{title}.xhtml'</span>
  <span class="n">blog</span><span class="p">.</span><span class="nf">taglink</span> <span class="o">=</span> <span class="s1">'tags/{tag}.xhtml'</span>
  <span class="n">blog</span><span class="p">.</span><span class="nf">year_link</span> <span class="o">=</span> <span class="s1">'{year}.xhtml'</span>
  <span class="n">blog</span><span class="p">.</span><span class="nf">month_link</span> <span class="o">=</span> <span class="s1">'{year}/{month}.xhtml'</span>
  <span class="n">blog</span><span class="p">.</span><span class="nf">day_link</span> <span class="o">=</span> <span class="s1">'{year}/{month}/{day}.xhtml'</span>
  <span class="n">blog</span><span class="p">.</span><span class="nf">tag_template</span> <span class="o">=</span> <span class="s1">'tag.xhtml'</span>
  <span class="n">blog</span><span class="p">.</span><span class="nf">calendar_template</span> <span class="o">=</span> <span class="s1">'calendar.xhtml'</span>
</code></pre>

<p>The important thing is to uncomment all the lines that now contain <code>.xhtml</code>.</p>

<h2 id="source-file-extensions">Source file extensions</h2>

<p>In the directory <code>my_test_website\source</code> files, you need to change:</p>

<ul>
<li><code>calendar.html.erb</code> to <code>calendar.xhtml.erb</code></li>
<li><code>index.html.erb</code> to <code>index.xhtml.erb</code></li>
<li><code>tag.html.erb</code> to <code>tag.xhtml.erb</code></li>
</ul>

<p>As well as any other none-article\blog <code>.xhtml</code> files you want to add to source.</p>

<p>For any existing articles/post you need to change the extensions from <code>html.markdown</code> to <code>xhtml.markdown</code>.</p>

<p>Since Middleman 4.0.0.rc.2:</p>

<blockquote>
<footer><cite><a href="https://github.com/middleman/middleman/blob/master/CHANGELOG.md#400rc2">Middleman change log</a></cite></footer>
Rather than applying layouts to all files which are not <code>.txt</code>, <code>.css</code>, <code>.js</code>, <code>.json</code>: the new behavior is to only default layouts to active for <code>.html</code>
</blockquote>

<p>This means that in <code>my_test_website\config.rb</code> you need to replace:</p>
<pre class="code-quote ruby"><code><span class="c1"># Per-page layout changes:</span>
<span class="c1">#</span>
<span class="c1"># With no layout</span>
<span class="n">page</span> <span class="s1">'/*.xml'</span><span class="p">,</span> <span class="ss">layout: </span><span class="kp">false</span>
<span class="n">page</span> <span class="s1">'/*.json'</span><span class="p">,</span> <span class="ss">layout: </span><span class="kp">false</span>
<span class="n">page</span> <span class="s1">'/*.txt'</span><span class="p">,</span> <span class="ss">layout: </span><span class="kp">false</span>

<span class="c1"># With alternative layout</span>
<span class="c1"># page "/path/to/file.html", layout: :otherlayout</span>

<span class="c1"># Proxy pages (http://middlemanapp.com/basics/dynamic-pages/)</span>
<span class="c1"># proxy "/this-page-has-no-template.html", "/template-file.html", locals: {</span>
<span class="c1">#  which_fake_page: "Rendering a fake page with a local variable" }</span>
</code></pre>

<p>with:</p>
<pre class="code-quote ruby"><code><span class="c1"># Per-page layout changes:</span>
<span class="n">page</span> <span class="s1">'/*.xhtml'</span><span class="p">,</span> <span class="ss">layout: </span><span class="s1">'layout'</span>
<span class="n">page</span> <span class="s1">'/articles/*.xhtml'</span><span class="p">,</span> <span class="ss">layout: </span><span class="s1">'article'</span>
</code></pre>

<p>This behaviour is set to change again soon so that the default layout will be applied to <code>.htm</code> and <code>.xhtml</code> files as well as <code>.html</code>. This will make the above two lines redundant. Middleman’s new behaviour makes the other page settings redundant as well as the line:</p>
<pre class="code-quote ruby"><code><span class="n">page</span> <span class="s2">"/feed.xml"</span><span class="p">,</span> <span class="ss">layout: </span><span class="kp">false</span>
</code></pre>

<h2 id="the-layout-file">The layout file</h2>

<p>Open <code>my_test_website\source</code></p>

<p>Delete the blank last line.</p>

<p>Add a trailing slash to</p>
<pre class="code-quote xml"><code>    <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">"viewport"</span> <span class="na">content=</span><span class="s">"width=device-width, initial-scale=1"</span><span class="nt">&gt;</span>
</code></pre>
<pre class="code-quote xml"><code>    <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">"viewport"</span> <span class="na">content=</span><span class="s">"width=device-width, initial-scale=1"</span> <span class="nt">/&gt;</span>
</code></pre>

<p>Delete</p>
<pre class="code-quote xml"><code>    <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"utf-8"</span> <span class="nt">/&gt;</span>
</code></pre>

<p>Replace:</p>
<pre class="code-quote xml"><code><span class="cp">&lt;!doctype html&gt;</span>
<span class="nt">&lt;html&gt;</span>
</code></pre>

<p>With:</p>
<pre class="code-quote xml"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/1999/xhtml"</span> <span class="na">xml:lang=</span><span class="s">"en-gb-oxendict"</span><span class="nt">&gt;</span>
</code></pre>

<p>Where <code>en-gb-oxendict</code> matches the <a href="http://www.w3.org/International/articles/language-tags/">language code</a> for the language of the website.</p>

<h2 id="envoi">Envoi</h2>

<p>If you followed the above steps, you should now have a Middleman build serving up <abbr title="eXtensible Hypertext Mark-up Language" class="initialism">X.H.T.M.L.</abbr></p>
      </div>
    </content>
  </entry>
</feed>
