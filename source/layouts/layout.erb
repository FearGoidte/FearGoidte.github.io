<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="<%= data.settings.site.language %>">
  <head>
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Blog Title<%= ' - ' + current_article.title unless current_article.nil? %></title>
    <%= feed_tag :atom, "#{blog.options.prefix.to_s}/atom.xml", title: "Atom Feed" %>
	</head>
	<body>
		<a href="#main">Skip to main content</a>
		<div role="banner">
			<dl>
		<% if current_page.path == 'index.xhtml' %>
				<dt><%= data.settings.site.name %></dt>
		<% else %>
				<dt><a href="<%= url_for '/index.xhtml' %>"><%= data.settings.site.name %></a></dt>
		<% end %>
			</dl>
			<div role="navigation">
				<ol>
				<% if current_page.path == 'index.xhtml' %>
					<li>Home</li>
				<% else %>
					<li><a href="<%= url_for '/index.xhtml' %>" accesskey="1">Home</a></li>
				<% end %><!--End of home link-->
				<% if current_page.path == 'archives.xhtml' %>
					<li>Archives</li>
				<% else %>
					<li><a href="<%= url_for '/archives.xhtml' %>">Archives</a></li>
				<% end %><!--End of archive link-->
					<li><a href="#copyright" accesskey="6">Copyright</a></li>
					<li><a href="#help" accesskey="k">Access keys</a></li>
					<li><a href="<%= blog.options.prefix.to_s %>/atom.xml" rel="alternate" accesskey="f">Web feed</a></li>
					<% if current_page.path == "colophon.xhtml" %>
					<li>Colophon</li>
				<% else %>
					<li><a href="<%= url_for "/colophon.xhtml" %>">Colophon</a></li>
				<% end %><!--End of archive link-->
				</ol>
			</div><!--End of ‘navigation’ role-->
		</div><!-- end of ‘banner’ role -->
		<main id="main">
      <%= yield %>
		</main>
		<aside>
			<h2>Recent Articles</h2>
			<ol>
				<% blog.articles[0...10].each do |article| %>
				<li><%= link_to article.title, article %>—<time datetime="<%= article.date.strftime("%F") %>"><%= article.date.strftime("%A ") + ordinal(article.date.strftime("%e")) + article.date.strftime("&#160;%B,&#160;%Y") %></time></li>
        <% end %>
			</ol>
			<h2>Tags</h2>
			<ol>
				<% blog.tags.each do |tag, articles| %>
				<li><%= link_to "#{tag} (#{articles.size})", tag_path(tag) %></li>
				<% end %>
			</ol>
      		<h2>By Year</h2>
      		<ol>
				<% blog.articles.group_by {|a| a.date.year }.each do |year, articles| %>
				<li><%= link_to "#{year} (#{articles.size})", blog_year_path(year) %></li>
        		<% end %>
			</ol>
		</aside>
		<footer>
			<p>This document was last modified on <time datetime="<%= File.mtime(current_page.source_file).iso8601 %>"><%= File.mtime(current_page.source_file).strftime("%A ") + ordinal(File.mtime(current_page.source_file).strftime("%e")) + File.mtime(current_page.source_file).strftime("&#160;%B,&#160;%Y") %> at <%= File.mtime(current_page.source_file).strftime("%H:%M") + " (" + Time.zone.name + ")" %></time></p>
			<table id="help">
				<caption>This page makes use of the following <code>accesskey</code> shortcuts:</caption>
				<thead>
					<tr>
						<th>Location</th>
						<th>Access Key</th>
					</tr>
				</thead>
				<tbody>
				<% unless current_page.path == 'index.xhtml' %>
					<tr>
						<th>Home</th>
						<td><code>1</code></td>
					</tr>
				<% end %>
					<tr>
						<th>Licence</th>
						<td><code>5</code></td>
					</tr>
					<tr>
						<th>Copyright</th>
						<td><code>6</code></td>
					</tr>
					<tr>
						<th>Access Keys</th>
						<td><code>k</code></td>
					</tr>
				<% if current_article %>
					<% if current_article.previous_article %>
					<tr>
						<th>Previous article</th>
						<td><code>p</code></td>
					</tr>
					<% end %>
				<% end %>
				<% if current_article %>
					<% if current_article.next_article %>
					<tr>
						<th>Next article</th>
						<td><code>n</code></td>
					</tr>
					<% end %>
				<% end %>
				</tbody>
			</table>
		</footer>
	</body>
</html>